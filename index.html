<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automation Engineer Operations Guide ‚Äì Ice Cream Manufacturing (Serbia)</title>
<style>
  :root {
    --font-display: 'Arial Black', 'Arial Bold', 'Helvetica Neue', sans-serif;
    --font-body: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'Courier New', Courier, monospace;
    --navy: #0a1628;
    --navy-mid: #122040;
    --blue: #1a4b8c;
    --blue-light: #2563b8;
    --accent: #f97316;
    --accent-light: #fb923c;
    --accent-glow: #fed7aa;
    --steel: #94a3b8;
    --steel-light: #cbd5e1;
    --white: #f8fafc;
    --off-white: #e2e8f0;
    --text: #1e293b;
    --text-light: #475569;
    --green: #16a34a;
    --green-light: #dcfce7;
    --red: #dc2626;
    --red-light: #fee2e2;
    --yellow: #ca8a04;
    --yellow-light: #fef9c3;
    --sidebar-w: 280px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: var(--font-body);
    background: #f1f5f9;
    color: var(--text);
    display: flex;
    min-height: 100vh;
  }

  /* SIDEBAR */
  #sidebar {
    width: var(--sidebar-w);
    background: var(--navy);
    position: fixed;
    top: 0; left: 0;
    height: 100vh;
    overflow-y: auto;
    z-index: 100;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
  }

  #sidebar::-webkit-scrollbar { width: 4px; }
  #sidebar::-webkit-scrollbar-track { background: var(--navy-mid); }
  #sidebar::-webkit-scrollbar-thumb { background: var(--blue); border-radius: 2px; }

  .sidebar-header {
    background: var(--navy-mid);
    padding: 20px 18px;
    border-bottom: 2px solid var(--accent);
  }

  .sidebar-logo {
    display: flex; align-items: center; gap: 10px;
    margin-bottom: 8px;
  }

  .sidebar-logo .icon {
    width: 36px; height: 36px;
    background: var(--accent);
    border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px;
  }

  .sidebar-logo span {
    font-family: var(--font-display);
    font-size: 18px; font-weight: 800;
    color: var(--white);
    letter-spacing: 1px;
    line-height: 1.1;
  }

  .sidebar-subtitle {
    font-size: 10px; color: var(--steel);
    text-transform: uppercase; letter-spacing: 1.5px;
    font-family: var(--font-mono);
  }

  .nav-section {
    padding: 14px 12px 6px;
    font-size: 9px;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: var(--font-mono);
    font-weight: 600;
  }

  .nav-link {
    display: flex; align-items: center; gap: 8px;
    padding: 9px 16px;
    color: var(--steel-light);
    text-decoration: none;
    font-size: 13px;
    transition: all 0.2s;
    border-left: 3px solid transparent;
    cursor: pointer;
  }

  .nav-link:hover, .nav-link.active {
    color: var(--white);
    background: rgba(26,75,140,0.3);
    border-left-color: var(--accent);
  }

  .nav-link .nav-icon { font-size: 14px; min-width: 16px; }

  .sidebar-footer {
    margin-top: auto;
    padding: 14px 16px;
    border-top: 1px solid rgba(255,255,255,0.08);
    font-size: 10px;
    color: var(--steel);
    font-family: var(--font-mono);
    line-height: 1.6;
  }

  /* MAIN CONTENT */
  #main {
    margin-left: var(--sidebar-w);
    flex: 1;
    min-height: 100vh;
  }

  /* TOP BAR */
  #topbar {
    background: var(--navy);
    color: var(--white);
    padding: 12px 32px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky; top: 0; z-index: 90;
    border-bottom: 2px solid var(--accent);
  }

  .topbar-left {
    display: flex; align-items: center; gap: 12px;
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--steel);
  }

  .status-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--green);
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%,100% { opacity:1; } 50% { opacity:.4; }
  }

  .topbar-actions { display: flex; gap: 10px; }

  .btn {
    padding: 7px 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 600;
    transition: all 0.2s;
    font-family: var(--font-body);
    letter-spacing: 0.5px;
  }

  .btn-primary {
    background: var(--accent);
    color: var(--white);
  }
  .btn-primary:hover { background: var(--accent-light); transform: translateY(-1px); }

  .btn-outline {
    background: transparent;
    color: var(--steel-light);
    border: 1px solid rgba(255,255,255,0.2);
  }
  .btn-outline:hover { background: rgba(255,255,255,0.08); color: var(--white); }

  /* COVER PAGE */
  #cover {
    background: linear-gradient(135deg, var(--navy) 0%, var(--navy-mid) 40%, #0d2d5c 100%);
    min-height: 100vh;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    position: relative;
    overflow: hidden;
    padding: 60px 40px;
  }

  #cover::before {
    content: '';
    position: absolute; inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231a4b8c' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
  }

  .cover-badge {
    background: var(--accent);
    color: var(--white);
    font-family: var(--font-mono);
    font-size: 10px;
    padding: 5px 16px;
    border-radius: 20px;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 28px;
  }

  .cover-flag {
    font-size: 48px;
    margin-bottom: 12px;
    text-shadow: 0 4px 12px rgba(0,0,0,0.4);
  }

  .cover-title {
    font-family: var(--font-display);
    font-size: clamp(28px, 4vw, 52px);
    font-weight: 800;
    color: var(--white);
    text-align: center;
    line-height: 1.05;
    margin-bottom: 12px;
    max-width: 800px;
    letter-spacing: 1px;
  }

  .cover-title span { color: var(--accent); }

  .cover-subtitle {
    font-size: 16px;
    color: var(--steel-light);
    text-align: center;
    max-width: 600px;
    margin-bottom: 40px;
    line-height: 1.6;
  }

  .cover-meta {
    display: flex; gap: 32px; flex-wrap: wrap;
    justify-content: center; margin-bottom: 40px;
  }

  .cover-meta-item {
    text-align: center;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 16px 24px;
    min-width: 140px;
  }

  .cover-meta-label {
    font-size: 9px;
    color: var(--steel);
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: var(--font-mono);
    margin-bottom: 4px;
  }

  .cover-meta-value {
    font-family: var(--font-display);
    font-size: 18px;
    font-weight: 700;
    color: var(--white);
  }

  .cover-divider {
    width: 80px; height: 3px;
    background: var(--accent);
    margin: 24px auto;
    border-radius: 2px;
  }

  .cover-logos {
    display: flex; gap: 20px; align-items: center;
    flex-wrap: wrap; justify-content: center;
  }

  .cover-logo-box {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 8px;
    padding: 10px 20px;
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--steel-light);
    letter-spacing: 1px;
  }

  /* CONTENT SECTIONS */
  .content-wrap {
    padding: 0 40px 60px;
  }

  .section {
    margin-top: 48px;
  }

  .section-header {
    display: flex; align-items: center; gap: 14px;
    margin-bottom: 24px;
    padding-bottom: 14px;
    border-bottom: 2px solid var(--off-white);
  }

  .section-num {
    background: var(--accent);
    color: var(--white);
    font-family: var(--font-display);
    font-size: 20px;
    font-weight: 800;
    width: 44px; height: 44px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: 28px;
    font-weight: 700;
    color: var(--navy);
    letter-spacing: 0.5px;
  }

  .section-icon {
    font-size: 22px;
    background: var(--off-white);
    width: 44px; height: 44px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }

  /* CARDS */
  .card {
    background: var(--white);
    border-radius: 10px;
    border: 1px solid var(--off-white);
    padding: 24px;
    margin-bottom: 20px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
  }

  .card-title {
    font-family: var(--font-display);
    font-size: 20px; font-weight: 700;
    color: var(--navy);
    margin-bottom: 14px;
    display: flex; align-items: center; gap: 8px;
  }

  .card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 18px;
    margin-bottom: 20px;
  }

  .stat-card {
    background: var(--white);
    border-radius: 10px;
    border: 1px solid var(--off-white);
    padding: 20px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
    border-top: 3px solid var(--blue);
  }

  .stat-card.orange { border-top-color: var(--accent); }
  .stat-card.green { border-top-color: var(--green); }
  .stat-card.red { border-top-color: var(--red); }

  .stat-icon { font-size: 28px; margin-bottom: 8px; }
  .stat-label { font-size: 11px; color: var(--text-light); text-transform: uppercase; letter-spacing: 1px; font-family: var(--font-mono); }
  .stat-value { font-family: var(--font-display); font-size: 22px; font-weight: 700; color: var(--navy); }
  .stat-desc { font-size: 13px; color: var(--text-light); margin-top: 4px; }

  /* TABLES */
  .table-wrap { overflow-x: auto; margin-bottom: 20px; }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13.5px;
  }

  thead tr {
    background: var(--navy);
    color: var(--white);
  }

  thead th {
    padding: 11px 14px;
    text-align: left;
    font-family: var(--font-display);
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  tbody tr { border-bottom: 1px solid var(--off-white); }
  tbody tr:hover { background: #f8fafc; }
  tbody td { padding: 10px 14px; vertical-align: top; line-height: 1.5; }

  .badge {
    display: inline-block;
    padding: 2px 9px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    font-family: var(--font-mono);
  }

  .badge-green { background: var(--green-light); color: var(--green); }
  .badge-red { background: var(--red-light); color: var(--red); }
  .badge-yellow { background: var(--yellow-light); color: var(--yellow); }
  .badge-blue { background: #dbeafe; color: var(--blue); }
  .badge-orange { background: #ffedd5; color: #c2410c; }

  /* CHECKLIST */
  .checklist { list-style: none; }
  .checklist li {
    display: flex; align-items: flex-start; gap: 10px;
    padding: 7px 0;
    border-bottom: 1px solid var(--off-white);
    font-size: 14px;
  }
  .checklist li:last-child { border-bottom: none; }

  .check-input {
    width: 17px; height: 17px;
    flex-shrink: 0;
    margin-top: 2px;
    accent-color: var(--accent);
    cursor: pointer;
  }

  .check-label { cursor: pointer; line-height: 1.5; }
  .check-label.checked { text-decoration: line-through; color: var(--text-light); }

  /* COLLAPSIBLE */
  .collapsible {
    border: 1px solid var(--off-white);
    border-radius: 8px;
    margin-bottom: 12px;
    overflow: hidden;
  }

  .collapsible-header {
    background: var(--white);
    padding: 14px 18px;
    cursor: pointer;
    display: flex; align-items: center; justify-content: space-between;
    user-select: none;
    transition: background 0.2s;
  }

  .collapsible-header:hover { background: #f8fafc; }

  .collapsible-header-left {
    display: flex; align-items: center; gap: 10px;
    font-weight: 600; font-size: 14.5px;
    color: var(--navy);
  }

  .collapsible-icon { font-size: 16px; }

  .collapsible-arrow {
    color: var(--steel);
    font-size: 12px;
    transition: transform 0.3s;
  }

  .collapsible-body {
    display: none;
    padding: 16px 20px;
    background: #f9fafb;
    border-top: 1px solid var(--off-white);
  }

  .collapsible.open .collapsible-arrow { transform: rotate(180deg); }
  .collapsible.open .collapsible-body { display: block; }

  /* ALERT BOXES */
  .alert {
    padding: 14px 18px;
    border-radius: 8px;
    margin-bottom: 14px;
    display: flex; gap: 12px;
    align-items: flex-start;
    font-size: 13.5px;
    line-height: 1.5;
  }

  .alert-icon { font-size: 18px; flex-shrink: 0; margin-top: 1px; }

  .alert-danger { background: var(--red-light); border-left: 4px solid var(--red); color: #7f1d1d; }
  .alert-warning { background: var(--yellow-light); border-left: 4px solid var(--yellow); color: #713f12; }
  .alert-info { background: #dbeafe; border-left: 4px solid var(--blue); color: #1e3a5f; }
  .alert-success { background: var(--green-light); border-left: 4px solid var(--green); color: #14532d; }

  /* PROCESS FLOW */
  .process-flow {
    display: flex;
    flex-wrap: wrap;
    gap: 0;
    margin: 20px 0;
    align-items: center;
  }

  .process-step {
    background: var(--white);
    border: 2px solid var(--off-white);
    border-radius: 10px;
    padding: 14px 16px;
    text-align: center;
    min-width: 100px;
    flex: 1;
    position: relative;
    transition: border-color 0.2s, transform 0.2s;
  }

  .process-step:hover { border-color: var(--accent); transform: translateY(-2px); }

  .process-step-icon { font-size: 26px; display: block; margin-bottom: 6px; }
  .process-step-title { font-family: var(--font-display); font-size: 14px; font-weight: 700; color: var(--navy); }
  .process-step-temp { font-family: var(--font-mono); font-size: 11px; color: var(--accent); margin-top: 2px; }

  .process-arrow {
    font-size: 22px;
    color: var(--steel);
    padding: 0 4px;
    flex-shrink: 0;
  }

  /* CODE BLOCK */
  .code-block {
    background: var(--navy);
    color: #a8d1ff;
    font-family: var(--font-mono);
    font-size: 12px;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 14px 0;
    overflow-x: auto;
    line-height: 1.7;
    border-left: 3px solid var(--accent);
  }

  .code-block .comment { color: #6b8fa8; }
  .code-block .keyword { color: var(--accent-light); }
  .code-block .value { color: #86efac; }

  /* SCENARIO BOX */
  .scenario {
    background: linear-gradient(135deg, var(--navy-mid), #0d2d5c);
    border-radius: 12px;
    padding: 28px;
    margin-bottom: 20px;
    color: var(--white);
    border: 1px solid rgba(249,115,22,0.3);
  }

  .scenario-title {
    font-family: var(--font-display);
    font-size: 22px; font-weight: 800;
    color: var(--accent);
    margin-bottom: 6px;
    display: flex; align-items: center; gap: 8px;
  }

  .scenario-type {
    font-family: var(--font-mono);
    font-size: 10px; color: var(--steel);
    text-transform: uppercase; letter-spacing: 2px;
    margin-bottom: 14px;
  }

  .scenario-body { font-size: 14px; line-height: 1.7; color: var(--steel-light); }

  .scenario-steps {
    margin-top: 16px;
    border-top: 1px solid rgba(255,255,255,0.1);
    padding-top: 16px;
  }

  .scenario-step {
    display: flex; gap: 12px; margin-bottom: 10px; align-items: flex-start;
  }

  .scenario-step-num {
    background: var(--accent);
    color: var(--white);
    width: 22px; height: 22px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; font-weight: 700;
    flex-shrink: 0;
  }

  .scenario-step-text { font-size: 13.5px; color: var(--steel-light); line-height: 1.5; }

  /* KPI BAND */
  .kpi-band {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 16px;
    margin: 20px 0;
  }

  .kpi-item {
    background: var(--white);
    border-radius: 8px;
    padding: 18px;
    text-align: center;
    border: 1px solid var(--off-white);
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  }

  .kpi-value {
    font-family: var(--font-display);
    font-size: 36px; font-weight: 800;
    color: var(--navy);
    line-height: 1;
  }

  .kpi-unit { font-size: 14px; color: var(--steel); font-weight: 400; }
  .kpi-label { font-size: 12px; color: var(--text-light); margin-top: 4px; text-transform: uppercase; letter-spacing: 0.5px; }

  .kpi-bar {
    height: 4px; background: var(--off-white);
    border-radius: 2px; margin-top: 10px;
    overflow: hidden;
  }

  .kpi-bar-fill {
    height: 100%; border-radius: 2px;
    background: var(--accent);
  }

  /* SUBSECTION */
  .subsection {
    margin: 18px 0;
  }

  .subsection-title {
    font-family: var(--font-display);
    font-size: 18px; font-weight: 700;
    color: var(--navy);
    margin-bottom: 10px;
    padding-left: 10px;
    border-left: 3px solid var(--accent);
  }

  /* SCROLL TO TOP */
  #scrollTop {
    position: fixed;
    bottom: 30px; right: 30px;
    background: var(--accent);
    color: var(--white);
    border: none; border-radius: 50%;
    width: 44px; height: 44px;
    font-size: 20px;
    cursor: pointer;
    box-shadow: 0 4px 14px rgba(249,115,22,0.4);
    display: none;
    align-items: center; justify-content: center;
    transition: all 0.2s;
    z-index: 200;
  }

  #scrollTop:hover { background: var(--accent-light); transform: translateY(-2px); }
  #scrollTop.visible { display: flex; }

  /* PRINT */
  @media print {
    #sidebar, #topbar, #scrollTop { display: none !important; }
    #main { margin-left: 0; }
    .content-wrap { padding: 20px; }
    .collapsible-body { display: block !important; }
  }

  /* TEXT UTILS */
  p { line-height: 1.7; font-size: 14.5px; color: var(--text-light); margin-bottom: 10px; }
  strong { color: var(--text); }
  ul, ol { padding-left: 20px; margin-bottom: 12px; }
  li { font-size: 14px; line-height: 1.7; color: var(--text-light); }

  .text-mono { font-family: var(--font-mono); font-size: 12px; }
  .text-center { text-align: center; }
  .text-accent { color: var(--accent); }
  .text-navy { color: var(--navy); }
  .mt-8 { margin-top: 8px; }
  .mt-16 { margin-top: 16px; }
  .mb-16 { margin-bottom: 16px; }
  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
  @media (max-width: 700px) { .two-col { grid-template-columns: 1fr; } }

  .highlight-box {
    background: linear-gradient(90deg, #fff7ed, var(--white));
    border: 1px solid #fed7aa;
    border-left: 4px solid var(--accent);
    border-radius: 8px;
    padding: 14px 18px;
    margin-bottom: 14px;
  }

  .highlight-box-title {
    font-family: var(--font-display);
    font-size: 16px; font-weight: 700;
    color: var(--navy); margin-bottom: 6px;
    display: flex; gap: 8px; align-items: center;
  }

  /* TIMELINE */
  .timeline { position: relative; padding-left: 30px; }
  .timeline::before {
    content: '';
    position: absolute; left: 10px; top: 0; bottom: 0;
    width: 2px; background: var(--off-white);
  }

  .timeline-item {
    position: relative; margin-bottom: 20px;
  }

  .timeline-dot {
    position: absolute; left: -24px; top: 4px;
    width: 12px; height: 12px; border-radius: 50%;
    background: var(--accent);
    border: 2px solid var(--white);
    box-shadow: 0 0 0 2px var(--accent);
  }

  .timeline-time {
    font-family: var(--font-mono);
    font-size: 11px; color: var(--accent);
    margin-bottom: 2px; font-weight: 600;
  }

  .timeline-title {
    font-weight: 600; font-size: 14px; color: var(--navy);
    margin-bottom: 4px;
  }

  .timeline-body { font-size: 13px; color: var(--text-light); line-height: 1.6; }
</style>
</head>
<body>

<!-- SIDEBAR -->
<nav id="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-logo">
      <div class="icon">‚öôÔ∏è</div>
      <span>AUTO<br>GUIDE</span>
    </div>
    <div class="sidebar-subtitle">Serbia Deployment ¬∑ v2.4 ¬∑ 2025</div>
  </div>

  <div class="nav-section">Overview</div>
  <a class="nav-link" onclick="scrollToSection('#cover')"><span class="nav-icon">üè≠</span> Cover Page</a>
  <a class="nav-link" onclick="scrollToSection('#role')"><span class="nav-icon">üë∑</span> Role Overview</a>

  <div class="nav-section">Daily Operations</div>
  <a class="nav-link" onclick="scrollToSection('#shift-start')"><span class="nav-icon">üü¢</span> Start of Shift</a>
  <a class="nav-link" onclick="scrollToSection('#production')"><span class="nav-icon">üìä</span> Production Monitoring</a>
  <a class="nav-link" onclick="scrollToSection('#troubleshoot')"><span class="nav-icon">üîß</span> Troubleshooting</a>
  <a class="nav-link" onclick="scrollToSection('#maintenance')"><span class="nav-icon">üõ†Ô∏è</span> Maintenance</a>
  <a class="nav-link" onclick="scrollToSection('#handover')"><span class="nav-icon">üîÑ</span> End of Shift</a>

  <div class="nav-section">Recurring Tasks</div>
  <a class="nav-link" onclick="scrollToSection('#weekly')"><span class="nav-icon">üìÖ</span> Weekly Duties</a>
  <a class="nav-link" onclick="scrollToSection('#monthly')"><span class="nav-icon">üìÜ</span> Monthly Duties</a>

  <div class="nav-section">Technical</div>
  <a class="nav-link" onclick="scrollToSection('#process')"><span class="nav-icon">üç¶</span> Process Control</a>
  <a class="nav-link" onclick="scrollToSection('#safety')"><span class="nav-icon">‚ö†Ô∏è</span> Safety & Compliance</a>
  <a class="nav-link" onclick="scrollToSection('#skills')"><span class="nav-icon">üí°</span> Technical Skills</a>
  <a class="nav-link" onclick="scrollToSection('#scenarios')"><span class="nav-icon">üö®</span> Scenarios</a>

  <div class="nav-section">Assessment Prep</div>
  <a class="nav-link" onclick="scrollToSection('#assessment')"><span class="nav-icon">üéØ</span> Assessment Overview</a>
  <a class="nav-link" onclick="scrollToSection('#plc-test')"><span class="nav-icon">üß©</span> PLC Programming Test</a>
  <a class="nav-link" onclick="scrollToSection('#diagram-test')"><span class="nav-icon">üìê</span> Electrical Diagrams</a>
  <a class="nav-link" onclick="scrollToSection('#ts-sim')"><span class="nav-icon">üî¨</span> Troubleshoot Sim</a>
  <a class="nav-link" onclick="scrollToSection('#interview')"><span class="nav-icon">üó£Ô∏è</span> Interview Prep</a>
  <a class="nav-link" onclick="scrollToSection('#rapid-fire')"><span class="nav-icon">‚ö°</span> Rapid-Fire Q&amp;A</a>
  <a class="nav-link" onclick="scrollToSection('#self-assess')"><span class="nav-icon">‚úÖ</span> Self-Assessment</a>

  <div class="sidebar-footer">
    Document: AE-OPS-SRB-2025<br>
    Classification: Internal Training<br>
    Standard: EN / HACCP / IEC 62443<br>
    Rev: 2.5 ‚Äî Feb 2025
  </div>
</nav>

<!-- MAIN -->
<div id="main">

  <!-- TOP BAR -->
  <div id="topbar">
    <div class="topbar-left">
      <div class="status-dot"></div>
      <span>SYSTEM ONLINE</span>
      &nbsp;|&nbsp;
      <span id="current-time" class="text-mono"></span>
      &nbsp;|&nbsp;
      <span>Serbia Plant ¬∑ Automation Division</span>
    </div>
    <div class="topbar-actions">
      <button class="btn btn-outline" onclick="expandAll()">Expand All</button>
      <button class="btn btn-outline" onclick="collapseAll()">Collapse All</button>
      <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print / Save PDF</button>
    </div>
  </div>

  <!-- COVER PAGE -->
  <section id="cover" style="padding: 0;">
    <div style="background: linear-gradient(135deg, #0a1628 0%, #122040 40%, #0d2d5c 100%); min-height: 90vh; display:flex; flex-direction:column; align-items:center; justify-content:center; position:relative; overflow:hidden; padding: 60px 40px; text-align:center;">
      <div style="position:absolute;inset:0;background:url('data:image/svg+xml,%3Csvg width=60 height=60 viewBox=0 0 60 60 xmlns=http://www.w3.org/2000/svg%3E%3Cg fill=none fill-rule=evenodd%3E%3Cg fill=%231a4b8c fill-opacity=0.12%3E%3Cpath d=M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');opacity:.5;"></div>
      
      <div style="position:relative;z-index:1; max-width:860px;">
        <div class="cover-badge">üá∑üá∏ Serbia Deployment Programme ¬∑ 2025</div>
        
        <div style="font-size:52px; margin-bottom:16px;">üè≠ üç¶ ‚öôÔ∏è</div>
        
        <h1 class="cover-title">
          Automation Engineer<br>
          <span style="color:#f97316;">Day-to-Day Operations Guide</span>
        </h1>
        
        <p class="cover-subtitle">
          Ice Cream Manufacturing Plant ‚Äî Serbia<br>
          PLC-Based Industrial Control Systems ¬∑ European Food Manufacturing Standards
        </p>

        <div class="cover-divider"></div>

        <div class="cover-meta">
          <div class="cover-meta-item">
            <div class="cover-meta-label">Document Type</div>
            <div class="cover-meta-value">OPS GUIDE</div>
          </div>
          <div class="cover-meta-item">
            <div class="cover-meta-label">Version</div>
            <div class="cover-meta-value">v2.4 ‚Äî 2025</div>
          </div>
          <div class="cover-meta-item">
            <div class="cover-meta-label">Standard</div>
            <div class="cover-meta-value">EN / IEC</div>
          </div>
          <div class="cover-meta-item">
            <div class="cover-meta-label">Classification</div>
            <div class="cover-meta-value">TRAINING</div>
          </div>
          <div class="cover-meta-item">
            <div class="cover-meta-label">Region</div>
            <div class="cover-meta-value">EUROPE ‚Äî RS</div>
          </div>
        </div>

        <div class="cover-logos">
          <div class="cover-logo-box">üîå SIEMENS S7-1500</div>
          <div class="cover-logo-box">üì° PROFINET / EtherNet/IP</div>
          <div class="cover-logo-box">üñ•Ô∏è WinCC SCADA</div>
          <div class="cover-logo-box">‚úÖ HACCP ¬∑ ISO 22000</div>
          <div class="cover-logo-box">‚ö° IEC 61131-3</div>
        </div>
        
        <p style="margin-top:30px; color:#475569; font-family:var(--font-mono); font-size:11px; letter-spacing:1px;">
          AE-OPS-SRB-2025 ¬∑ INTERNAL TRAINING DOCUMENT ¬∑ FOR AUTHORIZED PERSONNEL ONLY
        </p>
      </div>
    </div>
  </section>

  <div class="content-wrap">

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 2: ROLE OVERVIEW ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="role">
    <div class="section-header">
      <div class="section-num">2</div>
      <h2 class="section-title">Overview of Role ‚Äî Automation Engineer</h2>
    </div>

    <p>As an Automation Engineer deployed to the ice cream manufacturing facility in Serbia, you are the technical backbone of continuous production. You are responsible for the reliability, performance, and safety of all PLC-controlled systems, from ingredient batching through cold storage. This role operates within European food safety and electrical standards, requiring both technical excellence and cross-functional coordination.</p>

    <div class="card-grid mt-16">
      <div class="stat-card">
        <div class="stat-icon">üéØ</div>
        <div class="stat-label">Primary Function</div>
        <div class="stat-value">PLC & Automation Control</div>
        <div class="stat-desc">Maintain, monitor, and optimize all automated control systems across production</div>
      </div>
      <div class="stat-card orange">
        <div class="stat-icon">üå°Ô∏è</div>
        <div class="stat-label">Environment</div>
        <div class="stat-value">-30¬∞C to +25¬∞C</div>
        <div class="stat-desc">Operations span cold storage, hygienic production zones, and electrical rooms</div>
      </div>
      <div class="stat-card green">
        <div class="stat-icon">üìã</div>
        <div class="stat-label">Compliance</div>
        <div class="stat-value">EN / HACCP / CE</div>
        <div class="stat-desc">Full alignment with EU food manufacturing and electrical safety directives</div>
      </div>
      <div class="stat-card red">
        <div class="stat-icon">‚è±Ô∏è</div>
        <div class="stat-label">Shift Coverage</div>
        <div class="stat-value">3 √ó 8h Shifts</div>
        <div class="stat-desc">Continuous 24/7 production monitoring with structured handover protocols</div>
      </div>
    </div>

    <div class="two-col">
      <div class="card">
        <div class="card-title">üìå Core Responsibilities</div>
        <ul>
          <li>Monitor and maintain PLC/HMI/SCADA systems across all production lines</li>
          <li>Respond to process alarms, faults, and unplanned stoppages within SLA targets</li>
          <li>Coordinate with maintenance, quality, and production teams daily</li>
          <li>Execute and document preventive maintenance on automation assets</li>
          <li>Manage PLC program backups and version control</li>
          <li>Support continuous improvement through Kaizen and OEE analysis</li>
          <li>Train operators on HMI usage and alarm acknowledgement procedures</li>
          <li>Ensure compliance with IEC 61131-3, EN 60204, HACCP, and ISO 22000</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">üèóÔ∏è Production Environment</div>
        <div class="subsection-title" style="font-size:15px; margin-bottom:8px;">Hygienic Zones</div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Zone</th><th>Temp</th><th>Access</th></tr></thead>
            <tbody>
              <tr><td>Ingredient Store</td><td>+4¬∞C to +8¬∞C</td><td>Controlled</td></tr>
              <tr><td>Mix / Pasteurize</td><td>+72¬∞C process</td><td>Hygiene PPE required</td></tr>
              <tr><td>Freezing Tunnel</td><td>-18¬∞C to -25¬∞C</td><td>Insulated PPE</td></tr>
              <tr><td>Hardening Room</td><td>-30¬∞C</td><td>Restricted</td></tr>
              <tr><td>Packaging Hall</td><td>+10¬∞C to +15¬∞C</td><td>Hygiene zone</td></tr>
              <tr><td>Electrical Room</td><td>+18¬∞C to +22¬∞C</td><td>Authorised only</td></tr>
            </tbody>
          </table>
        </div>
        <div class="alert alert-info mt-8">
          <div class="alert-icon">‚ÑπÔ∏è</div>
          <div>CIP (Clean-In-Place) systems operate daily. Always verify CIP cycle status before accessing pipework or sensors in wet zones.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">üß† Required Technical Competencies</div>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Competency Area</th><th>Specific Skills</th><th>Level Required</th></tr></thead>
          <tbody>
            <tr><td><strong>PLC Programming</strong></td><td>Siemens S7-1500/300, IEC 61131-3 (LAD, FBD, SCL, SFC), TIA Portal</td><td><span class="badge badge-red">Advanced</span></td></tr>
            <tr><td><strong>HMI Development</strong></td><td>WinCC, FactoryTalk, SIMATIC HMI; tag configuration, alarm management, trending</td><td><span class="badge badge-red">Advanced</span></td></tr>
            <tr><td><strong>SCADA Systems</strong></td><td>WinCC SCADA / Ignition, historian configuration, network integration</td><td><span class="badge badge-yellow">Intermediate</span></td></tr>
            <tr><td><strong>Drive Systems</strong></td><td>Siemens SINAMICS, Danfoss VFDs; parameter setting, fault diagnosis</td><td><span class="badge badge-yellow">Intermediate</span></td></tr>
            <tr><td><strong>Fieldbus Networks</strong></td><td>PROFINET, EtherNet/IP, Modbus TCP, DeviceNet, ASi-bus</td><td><span class="badge badge-yellow">Intermediate</span></td></tr>
            <tr><td><strong>Electrical Systems</strong></td><td>Panel reading, MCC/switchgear, motor protection, grounding EN 60204</td><td><span class="badge badge-yellow">Intermediate</span></td></tr>
            <tr><td><strong>Process Instrumentation</strong></td><td>4‚Äì20 mA, PT100/PT1000, flow meters, pressure transmitters, level sensors</td><td><span class="badge badge-yellow">Intermediate</span></td></tr>
            <tr><td><strong>Food Safety Awareness</strong></td><td>HACCP, GMP, CIP procedures, hygienic design principles (EHEDG)</td><td><span class="badge badge-blue">Working Knowledge</span></td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 3A: START OF SHIFT ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="shift-start">
    <div class="section-header">
      <div class="section-num">3A</div>
      <h2 class="section-title">Start of Shift Procedure</h2>
    </div>

    <div class="alert alert-warning">
      <div class="alert-icon">‚ö†Ô∏è</div>
      <div><strong>Shift Start Protocol:</strong> No automation engineer may take over shift control without completing the full pre-shift inspection. This procedure typically takes 20‚Äì30 minutes. Do not skip steps even during peak production periods.</div>
    </div>

    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+00:00 ‚Äî Arrival & PPE</div>
        <div class="timeline-title">Personal Protective Equipment & Hygiene</div>
        <div class="timeline-body">Don appropriate PPE for zone of entry. Sign site entry log. Collect shift radio. Check site incident board for open safety events from previous shift.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+05:00 ‚Äî Handover Meeting</div>
        <div class="timeline-title">Outgoing Engineer Briefing</div>
        <div class="timeline-body">Receive verbal and written handover. Note all open alarms, pending faults, bypassed interlocks, and temporary modifications made during previous shift.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+10:00 ‚Äî SCADA Review</div>
        <div class="timeline-title">SCADA System Overview</div>
        <div class="timeline-body">Log in to WinCC SCADA. Review system overview screen: all running processes, active alarm list, trend data for last 4 hours (temperatures, pressures, motor currents). Confirm historian is logging correctly.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+15:00 ‚Äî PLC Panel Walk</div>
        <div class="timeline-title">Physical PLC Cabinet Inspection</div>
        <div class="timeline-body">Physically walk each PLC cabinet. Check CPU status LED (must be RUN/GREEN), check I/O module status, note any error or fault LEDs, verify cabinet temperatures, confirm door seals are intact, and check any UPS systems are charged.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+22:00 ‚Äî Line Readiness</div>
        <div class="timeline-title">Production Line Readiness Check</div>
        <div class="timeline-body">Walk the production floor. Confirm conveyors, pumps, freezers, fillers, and packaging machines are in correct operational state. Confirm no maintenance tags (LOTOTO) are outstanding on active equipment.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-time">T+28:00 ‚Äî Supervisor Sign-Off</div>
        <div class="timeline-title">Communication with Operations Supervisor</div>
        <div class="timeline-body">Brief the production supervisor on automation system status, any known constraints, and confirm production plan for the shift. Receive information on scheduled cleaning, changeover, or trials.</div>
      </div>
    </div>

    <div class="card mt-16">
      <div class="card-title">‚úÖ Start-of-Shift Checklist</div>
      <ul class="checklist" id="checklist-start">
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">PPE donned and hygiene protocol completed at zone entry</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Signed into site attendance register</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Verbal handover received from outgoing automation engineer</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Written shift report from previous shift reviewed</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">SCADA system logged in and overview screen verified</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Active alarm list reviewed and acknowledged where appropriate</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">All PLC CPU status LEDs confirmed GREEN / RUN</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I/O module fault LEDs checked ‚Äî none outstanding</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">SCADA historian confirmed active and logging</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">All HMI touchscreens operational and showing current data</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Temperature trends reviewed for freezers and pasteurizers (last 4h)</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Physical walkdown of production floor completed</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">No unauthorized LOTOTO (lockout/tagout) on active equipment</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Brief completed with Operations Supervisor</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Shift start time, date, and name logged in shift logbook</label></li>
      </ul>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 3B: PRODUCTION MONITORING ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="production">
    <div class="section-header">
      <div class="section-num">3B</div>
      <h2 class="section-title">During Production ‚Äî System Monitoring</h2>
    </div>

    <div class="kpi-band">
      <div class="kpi-item">
        <div class="kpi-value">‚â•85<span class="kpi-unit">%</span></div>
        <div class="kpi-label">OEE Target</div>
        <div class="kpi-bar"><div class="kpi-bar-fill" style="width:85%"></div></div>
      </div>
      <div class="kpi-item">
        <div class="kpi-value">-18<span class="kpi-unit">¬∞C</span></div>
        <div class="kpi-label">Freezer Min Temp</div>
        <div class="kpi-bar"><div class="kpi-bar-fill" style="width:90%;background:#1a4b8c"></div></div>
      </div>
      <div class="kpi-item">
        <div class="kpi-value">72<span class="kpi-unit">¬∞C</span></div>
        <div class="kpi-label">Pasteurize Temp</div>
        <div class="kpi-bar"><div class="kpi-bar-fill" style="width:72%;background:#dc2626"></div></div>
      </div>
      <div class="kpi-item">
        <div class="kpi-value">&lt;5<span class="kpi-unit">min</span></div>
        <div class="kpi-label">Alarm Response</div>
        <div class="kpi-bar"><div class="kpi-bar-fill" style="width:95%;background:#16a34a"></div></div>
      </div>
      <div class="kpi-item">
        <div class="kpi-value">30<span class="kpi-unit">min</span></div>
        <div class="kpi-label">Patrol Cycle</div>
        <div class="kpi-bar"><div class="kpi-bar-fill" style="width:100%;background:#f97316"></div></div>
      </div>
    </div>

    <div class="collapsible open">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üå°Ô∏è</span>Temperature Control Loop Monitoring</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th>System</th><th>Setpoint</th><th>Acceptable Range</th><th>Action if Deviated</th><th>Sensor Type</th></tr></thead>
            <tbody>
              <tr><td>Pasteurizer (HTST)</td><td>+72¬∞C for 15s</td><td>¬±0.5¬∞C</td><td>Immediate batch hold; notify QA; check PID parameters</td><td>PT100 (4-wire)</td></tr>
              <tr><td>Aging Tank</td><td>+4¬∞C</td><td>¬±1¬∞C</td><td>Check refrigeration compressor; verify expansion valve actuation</td><td>PT1000</td></tr>
              <tr><td>Continuous Freezer</td><td>-4¬∞C to -6¬∞C (exit)</td><td>¬±0.5¬∞C</td><td>Adjust refrigerant feed; check overrun setpoint; alert supervisor</td><td>PT100 + thermocouple</td></tr>
              <tr><td>Hardening Tunnel</td><td>-30¬∞C to -35¬∞C</td><td>¬±2¬∞C</td><td>Check evaporator fans; inspect defrost cycle timing</td><td>PT100</td></tr>
              <tr><td>Cold Store</td><td>-20¬∞C to -22¬∞C</td><td>¬±2¬∞C</td><td>Check door seals, refrigeration output; notify warehouse</td><td>Wireless transmitter</td></tr>
              <tr><td>CIP Return Temperature</td><td>+80¬∞C (detergent) / +90¬∞C (rinse)</td><td>¬±2¬∞C</td><td>Abort CIP cycle; check heat exchanger; notify hygiene team</td><td>PT100</td></tr>
            </tbody>
          </table>
        </div>

        <div class="code-block">
<span class="comment">// PLC Temperature PID Control Block ‚Äî S7-1500 SCL Example</span>
<span class="keyword">FUNCTION_BLOCK</span> FB_TempControl
VAR_INPUT
  SP_Temp     : REAL;   <span class="comment">// Setpoint temperature (¬∞C)</span>
  PV_Temp     : REAL;   <span class="comment">// Process value from PT100</span>
  Kp          : REAL := 2.5;
  Ti          : REAL := 120.0;  <span class="comment">// Integral time (seconds)</span>
  Td          : REAL := 10.0;   <span class="comment">// Derivative time</span>
END_VAR
VAR_OUTPUT
  Output_CV   : REAL;   <span class="comment">// Control valve position 0‚Äì100%</span>
  Alarm_Hi    : BOOL;   <span class="comment">// High temp alarm</span>
  Alarm_Lo    : BOOL;   <span class="comment">// Low temp alarm</span>
END_VAR
<span class="comment">// PID instance block ‚Äî CONT_C from Siemens library</span>
pidInstance( SP:=SP_Temp, PV:=PV_Temp, MV=>Output_CV );
Alarm_Hi := (PV_Temp > SP_Temp + <span class="value">0.5</span>);
Alarm_Lo := (PV_Temp < SP_Temp - <span class="value">0.5</span>);</div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚ö°</span>Motor Control & VFD Monitoring</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <p>All production motors are monitored via SCADA for current draw, speed (where VFD-driven), thermal status, and run hours. Critical motors trigger alarms at both SCADA and HMI levels.</p>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Motor / Drive</th><th>Control Type</th><th>Normal Current</th><th>Overload Trip</th><th>SCADA Monitoring</th></tr></thead>
            <tbody>
              <tr><td>Mix Pump M01</td><td>DOL Starter</td><td>8.5A</td><td>12A (>10s)</td><td>Run/Stop, kWh, fault</td></tr>
              <tr><td>Homogeniser M02</td><td>Star-Delta</td><td>45A</td><td>62A (>5s)</td><td>Speed, vibration, temp</td></tr>
              <tr><td>Freezer Feed Pump M03</td><td>SINAMICS VFD</td><td>15‚Äì28A variable</td><td>35A</td><td>Speed setpoint, actual speed, torque, fault code</td></tr>
              <tr><td>Conveyor Line 1 M04</td><td>Danfoss VFD</td><td>4‚Äì18A variable</td><td>22A</td><td>Speed (m/min), belt tension feedback</td></tr>
              <tr><td>Packaging Machine M05</td><td>Servo + VFD</td><td>Per servo axis</td><td>Trip per axis</td><td>Servo status, cycle count, reject rate</td></tr>
              <tr><td>Refrigeration Comp. C01</td><td>Soft-starter + VFD</td><td>110A</td><td>145A</td><td>Suction/discharge pressure, oil temp, COP</td></tr>
            </tbody>
          </table>
        </div>
        <div class="highlight-box">
          <div class="highlight-box-title">üí° VFD Monitoring Protocol</div>
          <p>Verify VFD parameter set matches production recipe speed every time a product changeover occurs. Incorrect speed setpoints on cream pumps lead to overrun deviations affecting product texture and yield. Always use HMI recipe download function ‚Äî never manually override VFD speed via local keypad during production.</p>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üîî</span>Alarm Handling Procedure</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th>Priority</th><th>Alarm Class</th><th>Response Time</th><th>Escalation</th></tr></thead>
            <tbody>
              <tr><td><span class="badge badge-red">P1 ‚Äî CRITICAL</span></td><td>Safety interlock trip, E-stop activation, fire alarm integration, hygiene critical breach</td><td>Immediate ‚Äî 0 minutes</td><td>Stop production; notify supervisor and safety officer immediately</td></tr>
              <tr><td><span class="badge badge-orange">P2 ‚Äî HIGH</span></td><td>Temperature out of spec (pasteurizer, freezer exit), drive overload, PLC comms loss</td><td>‚â§ 5 minutes</td><td>Attend to fault; supervisor notification within 10 min</td></tr>
              <tr><td><span class="badge badge-yellow">P3 ‚Äî MEDIUM</span></td><td>VFD warning, sensor deviation, low-level tank, batch timer expired</td><td>‚â§ 15 minutes</td><td>Log in shift report; resolve within shift if possible</td></tr>
              <tr><td><span class="badge badge-blue">P4 ‚Äî LOW</span></td><td>Run hour service reminders, filter differential pressure, calibration due alerts</td><td>Within shift</td><td>Schedule maintenance; update CMMS work order</td></tr>
            </tbody>
          </table>
        </div>
        <div class="alert alert-danger">
          <div class="alert-icon">üö®</div>
          <div><strong>CRITICAL RULE:</strong> Never silence a P1 or P2 alarm without understanding and documenting the root cause. Silencing without resolution is a safety and food safety violation under plant procedures.</div>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üì¶</span>Batch Control & OEE Monitoring</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <p>Each production batch is tracked by the PLC batch control system (ISA-88 structured). The Automation Engineer verifies batch integrity every 2 hours and at end of production run.</p>
        <div class="two-col">
          <div>
            <div class="subsection-title">Batch Verification Points</div>
            <ul>
              <li>Confirm recipe number matches product changeover sheet</li>
              <li>Verify ingredient weights match recipe targets (¬±0.5%)</li>
              <li>Confirm pasteurization hold time was met (minimum 15 seconds at 72¬∞C)</li>
              <li>Check batch traceability record saved to SQL database</li>
              <li>Verify batch start/end timestamps in SCADA historian</li>
              <li>Confirm allergen changeover clean confirmation is recorded</li>
            </ul>
          </div>
          <div>
            <div class="subsection-title">OEE Calculation Monitoring</div>
            <ul>
              <li><strong>Availability:</strong> Planned run time minus unplanned downtime</li>
              <li><strong>Performance:</strong> Actual speed vs. nameplate speed ratio</li>
              <li><strong>Quality:</strong> Good packs out vs. total packs in</li>
              <li>OEE data logged automatically every 15 minutes via SCADA</li>
              <li>Review OEE screen at midpoint and end of each shift</li>
              <li>Report any line running below 80% OEE for &gt;30 min to supervisor</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 3C: TROUBLESHOOTING ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="troubleshoot">
    <div class="section-header">
      <div class="section-num">3C</div>
      <h2 class="section-title">Troubleshooting Procedures</h2>
    </div>

    <div class="collapsible open">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üñ•Ô∏è</span>PLC Fault Diagnosis ‚Äî Step-by-Step</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 1 ‚Äî Identify</div>
            <div class="timeline-title">Read CPU Diagnostic Buffer</div>
            <div class="timeline-body">Open TIA Portal online connection or use HMI diagnostic page. Read CPU diagnostic buffer ‚Äî note fault code, timestamp, and affected module address. Do not clear buffer until fault is documented.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 2 ‚Äî Isolate</div>
            <div class="timeline-title">Identify Affected Subsystem</div>
            <div class="timeline-body">Cross-reference fault address with I/O mapping documentation. Identify which physical device or network node is affected. Check SCADA tag database for last known good value and timestamp of last change.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 3 ‚Äî Verify</div>
            <div class="timeline-title">Physical Inspection</div>
            <div class="timeline-body">Inspect the physical device: check wiring terminals (loose connections are common in high-vibration areas), check sensor installation condition, check module seating in rack. Use multimeter to verify supply voltages (24VDC, 5VDC as applicable).</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 4 ‚Äî Test</div>
            <div class="timeline-title">Force I/O Test (with Safety Authorisation)</div>
            <div class="timeline-body">With supervisor's written authorisation only: use TIA Portal "Force" function to test I/O channel. Confirm sensor response. Never force outputs on running machinery without LOTOTO clearance.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 5 ‚Äî Repair</div>
            <div class="timeline-title">Replace or Reconfigure</div>
            <div class="timeline-body">Replace faulty I/O module, sensor, or cable. Reload correct firmware if module replaced. Re-commission and verify correct operation through full production cycle test.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-time">Step 6 ‚Äî Document</div>
            <div class="timeline-title">RCA & CMMS Update</div>
            <div class="timeline-body">Complete root cause analysis form. Update CMMS work order with parts used, labour hours, and corrective action taken. Update spare parts inventory. Add to shift report and weekly KPI review.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üì°</span>Network Fault Diagnosis ‚Äî PROFINET / EtherNet/IP</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th>Symptom</th><th>Likely Cause</th><th>Diagnostic Tool</th><th>Resolution</th></tr></thead>
            <tbody>
              <tr><td>PROFINET device offline in TIA Portal</td><td>Cable fault, switch failure, IP conflict</td><td>TIA Portal > Device & Networks view</td><td>Check physical cable with cable tester; check managed switch port status; verify IP address assignment</td></tr>
              <tr><td>Intermittent IO device dropouts</td><td>EMI interference, loose RJ45, switch buffer overflow</td><td>Network analyser (Wireshark on PROFINET port)</td><td>Re-route cable away from high-voltage conductors; replace connectors; upgrade switch if packet loss &gt;0.1%</td></tr>
              <tr><td>Cyclic task overrun in CPU</td><td>High network load, scan time exceeded</td><td>TIA Portal runtime diagnostics</td><td>Optimise network topology; adjust cycle time; check for rogue devices broadcasting on network</td></tr>
              <tr><td>EtherNet/IP device not producing</td><td>Connection timeout, wrong RPI setting</td><td>RSLinx / Studio 5000 / Wireshark</td><td>Verify Requested Packet Interval (RPI) setting matches device capability; check firewall rules</td></tr>
              <tr><td>SCADA loses connection to PLC</td><td>OPC UA timeout, network fault, CPU busy</td><td>OPC UA client log; SCADA diagnostic screen</td><td>Restart OPC server service; check OPC UA endpoint configuration; verify PLC web server if applicable</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üìè</span>Sensor Calibration Process</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="alert alert-info">
          <div class="alert-icon">‚ÑπÔ∏è</div>
          <div>All calibration activities must be recorded in the calibration register and traceable to a UKAS/DAkkS-accredited reference. Food contact sensors require re-certification after calibration per ISO 22000.</div>
        </div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Sensor Type</th><th>Calibration Method</th><th>Frequency</th><th>Acceptance Criteria</th></tr></thead>
            <tbody>
              <tr><td>PT100 Temperature</td><td>Ice bath (0¬∞C), boiling point (100¬∞C) or reference bath. 2-point calibration in-situ where possible.</td><td>Quarterly</td><td>¬±0.3¬∞C at reference point</td></tr>
              <tr><td>Pressure Transmitter</td><td>Dead-weight tester or calibrated reference gauge. 5-point calibration across range.</td><td>6-Monthly</td><td>¬±0.25% of span</td></tr>
              <tr><td>Flow Meter (mag-flow)</td><td>Gravimetric weigh test with water at production flow rate. Loop calibration preferred.</td><td>Annually</td><td>¬±0.5% of reading</td></tr>
              <tr><td>Level (ultrasonic)</td><td>Physical tape measure cross-reference. Zero and span adjustment.</td><td>6-Monthly</td><td>¬±5mm</td></tr>
              <tr><td>Conductivity (CIP)</td><td>NIST-traceable conductivity standard solutions (1413 ¬µS/cm, 12.88 mS/cm)</td><td>Quarterly</td><td>¬±2% of reading</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">üîç Root Cause Analysis (RCA) Checklist</div>
      <ul class="checklist">
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Fault fully described: what, when, where, how often</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">SCADA alarm log and trend data exported and reviewed</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">PLC diagnostic buffer read and documented</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">5-Why analysis completed with production and maintenance input</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Fishbone diagram completed for complex or recurring faults</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Corrective action implemented and verified</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Preventive action identified to prevent recurrence</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">RCA form submitted to engineering manager and quality</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">CMMS updated with fault history and resolution</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Knowledge base / SOP updated if procedure change required</label></li>
      </ul>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 3D: MAINTENANCE ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="maintenance">
    <div class="section-header">
      <div class="section-num">3D</div>
      <h2 class="section-title">Maintenance Coordination</h2>
    </div>

    <div class="two-col">
      <div class="card">
        <div class="card-title">üìÖ Preventive Maintenance Schedule</div>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Task</th><th>Frequency</th><th>Duration</th></tr></thead>
            <tbody>
              <tr><td>PLC cabinet air filter clean</td><td>Weekly</td><td>15 min</td></tr>
              <tr><td>UPS battery test</td><td>Monthly</td><td>30 min</td></tr>
              <tr><td>PROFINET switch firmware check</td><td>Quarterly</td><td>1 hour</td></tr>
              <tr><td>VFD parameter backup</td><td>Monthly</td><td>20 min</td></tr>
              <tr><td>Sensor calibration check</td><td>Quarterly</td><td>2‚Äì4 hours</td></tr>
              <tr><td>PLC program backup to server</td><td>Weekly + after any change</td><td>10 min</td></tr>
              <tr><td>E-stop circuit function test</td><td>Monthly</td><td>45 min</td></tr>
              <tr><td>Terminal tightness torque check</td><td>6-Monthly</td><td>2 hours</td></tr>
              <tr><td>Thermal imaging of panels</td><td>6-Monthly</td><td>3 hours</td></tr>
              <tr><td>Full I/O signal test</td><td>Annual</td><td>1 day</td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="card">
        <div class="card-title">üîí Safety Lockout / Tagout (LOTOTO)</div>
        <div class="alert alert-danger">
          <div class="alert-icon">‚õî</div>
          <div><strong>LOTOTO is non-negotiable.</strong> No electrical or mechanical maintenance may begin without completing the full LOTOTO procedure. Violations result in immediate removal from site.</div>
        </div>
        <div class="subsection-title" style="font-size:14px; margin-bottom:8px;">LOTOTO Procedure Steps</div>
        <ul class="checklist" id="lototo">
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Identify all energy sources (electrical, pneumatic, hydraulic, thermal)</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Notify operators and supervisor of maintenance isolation</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Issue LOTOTO permit from permit-to-work system</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Isolate main power switch and all auxiliary supplies</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Apply personal padlock and danger tag to all isolation points</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Test for dead ‚Äî verify zero energy with approved test instrument</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Perform maintenance work safely</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Remove tools, restore guarding, close panels</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Remove padlock and tag ‚Äî only the person who installed may remove</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Close permit-to-work and return to production team</label></li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 3E: END OF SHIFT ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="handover">
    <div class="section-header">
      <div class="section-num">3E</div>
      <h2 class="section-title">End of Shift Handover</h2>
    </div>

    <p>A complete and accurate handover is critical to operational continuity and safety. The outgoing engineer must not leave until the incoming engineer confirms full understanding of all open issues.</p>

    <div class="card">
      <div class="card-title">üìã End-of-Shift Documentation Checklist</div>
      <ul class="checklist" id="checklist-end">
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Shift log completed with all events, alarms, faults, and resolutions</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">All open/unresolved alarms listed with status and risk assessment</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Any bypassed interlocks or overrides clearly documented with authorisation</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Maintenance work orders updated in CMMS</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">PLC program backup completed if any changes were made during shift</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">SCADA historian verified as running and data complete</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Spare parts used during shift logged in stores system</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Production performance (OEE) reviewed and noted in shift report</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Verbal handover given to incoming automation engineer</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Incoming engineer has signed acceptance of shift</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Any LOTOTO permits verified ‚Äî confirmed all closed or formally transferred</label></li>
        <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">Site access register signed out</label></li>
      </ul>
    </div>

    <div class="highlight-box">
      <div class="highlight-box-title">üîê System Backup Procedure</div>
      <p><strong>1.</strong> Open TIA Portal with correct project version. <strong>2.</strong> Upload current program from PLC CPU to engineering station. <strong>3.</strong> Save to designated network share: <code class="text-mono">\\srv-automation\backups\YYYYMMDD_PLCNAME\</code>. <strong>4.</strong> Verify file timestamp and MD5 hash matches upload. <strong>5.</strong> Log backup completion in engineering backup register. Backups must be retained for minimum 12 months per plant document retention policy.</p>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 4: WEEKLY ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="weekly">
    <div class="section-header">
      <div class="section-num">4</div>
      <h2 class="section-title">Weekly Responsibilities</h2>
    </div>

    <div class="card-grid">
      <div class="card">
        <div class="card-title">‚ôªÔ∏è Kaizen Improvement</div>
        <p>Participate in weekly Kaizen meetings. Identify and submit automation improvement opportunities. Review top 3 recurring faults and propose countermeasures. Support implementation of approved improvements.</p>
      </div>
      <div class="card">
        <div class="card-title">üìà KPI Review</div>
        <p>Compile weekly OEE data by line. Analyse downtime Pareto chart. Present top 3 downtime causes to engineering and production. Track Mean Time Between Failure (MTBF) and Mean Time to Repair (MTTR) for all critical assets.</p>
      </div>
      <div class="card">
        <div class="card-title">üîê Safety Audit</div>
        <p>Complete automation safety inspection checklist: verify all E-stop circuits are functional, guarding interlocks intact, PROFISAFE communication health, and all safety relay response times within SIL requirements.</p>
      </div>
      <div class="card">
        <div class="card-title">üìÅ Documentation Update</div>
        <p>Review and update electrical drawings if any field modifications occurred. Update instrument loop diagrams and I/O lists. Verify spare parts register is current. Archive all completed work orders from the week.</p>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 5: MONTHLY ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="monthly">
    <div class="section-header">
      <div class="section-num">5</div>
      <h2 class="section-title">Monthly Responsibilities</h2>
    </div>

    <div class="table-wrap">
      <table>
        <thead><tr><th>Task</th><th>Description</th><th>Output / Deliverable</th><th>Responsible</th></tr></thead>
        <tbody>
          <tr><td><strong>System Performance Evaluation</strong></td><td>Full month OEE report by line and by shift. Trend analysis vs. prior months. Identify systemic issues.</td><td>Monthly OEE Report (PDF to management)</td><td>Automation Engineer</td></tr>
          <tr><td><strong>Electrical Panel Audit</strong></td><td>Thermal imaging of all MCC and PLC panels. Check for hot joints, discoloured terminals, or overloaded cables. Document with photographs.</td><td>Thermal imaging report + action list</td><td>AE + Electrician</td></tr>
          <tr><td><strong>PLC Program Backup Verification</strong></td><td>Verify all PLCs have current backups. Test restore from backup on engineering station. Confirm version control log is complete.</td><td>Backup register signed off</td><td>Automation Engineer</td></tr>
          <tr><td><strong>Management Report</strong></td><td>Prepare concise automation performance summary for plant manager: uptime, top faults, CAPEX recommendations, compliance status.</td><td>Management dashboard (1 page)</td><td>Lead AE</td></tr>
          <tr><td><strong>Calibration Review</strong></td><td>Review calibration due dates for all instruments. Schedule overdue calibrations. Verify calibration certificates are filed.</td><td>Updated calibration register</td><td>AE + QA</td></tr>
          <tr><td><strong>Controls Upgrade Planning</strong></td><td>Review lifecycle status of installed PLC/HMI hardware. Identify obsolete components. Prepare CAPEX justification for upgrade projects.</td><td>Engineering change request form</td><td>Lead AE + Engineering Manager</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 6: PROCESS CONTROL OVERVIEW ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="process">
    <div class="section-header">
      <div class="section-num">6</div>
      <h2 class="section-title">Ice Cream Manufacturing Process Control Overview</h2>
    </div>

    <div class="process-flow">
      <div class="process-step" style="border-color:#1a4b8c">
        <span class="process-step-icon">‚öñÔ∏è</span>
        <div class="process-step-title">1. Batching</div>
        <div class="process-step-temp">¬±0.5% wt</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step">
        <span class="process-step-icon">üåÄ</span>
        <div class="process-step-title">2. Mixing</div>
        <div class="process-step-temp">+4¬∞C to +10¬∞C</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step" style="border-color:#dc2626">
        <span class="process-step-icon">üî•</span>
        <div class="process-step-title">3. Pasteurize</div>
        <div class="process-step-temp">+72¬∞C / 15s</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step">
        <span class="process-step-icon">üßä</span>
        <div class="process-step-title">4. Aging</div>
        <div class="process-step-temp">+4¬∞C / 4h</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step" style="border-color:#0284c7">
        <span class="process-step-icon">‚ùÑÔ∏è</span>
        <div class="process-step-title">5. Freeze</div>
        <div class="process-step-temp">-4¬∞C to -6¬∞C</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step">
        <span class="process-step-icon">üì¶</span>
        <div class="process-step-title">6. Fill & Pack</div>
        <div class="process-step-temp">+10¬∞C to +15¬∞C</div>
      </div>
      <div class="process-arrow">‚Üí</div>
      <div class="process-step" style="border-color:#1a4b8c">
        <span class="process-step-icon">üè™</span>
        <div class="process-step-title">7. Cold Store</div>
        <div class="process-step-temp">-20¬∞C to -22¬∞C</div>
      </div>
    </div>

    <div class="collapsible open">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚öñÔ∏è</span>Stage 1 ‚Äî Ingredient Batching & Control Logic</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <p>Ingredient batching is controlled by an ISA-88 compliant batch management module within the S7-1500 PLC. Ingredients (milk solids, sugar, stabilisers, emulsifiers, water) are dosed by mass via load cell-based weigh hoppers or volumetrically by mag-flow meter, depending on ingredient state (solid/liquid).</p>
        <div class="code-block">
<span class="comment">// Batching Sequence Control ‚Äî Simplified SFC Representation</span>
Step S01: <span class="keyword">WaterDosing</span>
  Action: Open MV-101 (water valve) until FM-101 = <span class="value">TargetVolume_L</span>
  Transition: FM-101.TotalFlow >= Recipe.WaterTarget AND MV-101.ClosedFB

Step S02: <span class="keyword">SugarDosing</span>
  Action: Run auger conveyor AC-01 until WT-201 = <span class="value">Recipe.SugarMass_kg</span>
  Transition: WT-201.GrossWeight >= (Recipe.SugarMass - Tolerance_0.5kg)

Step S03: <span class="keyword">MilkSolidsDosing</span>
  Action: Open pneumatic valve PV-301; monitor WT-201 increment
  Transition: WT-201.Increment >= Recipe.MilkSolids_kg

Step S04: <span class="keyword">BatchComplete</span>
  Action: Set BatchStatus = COMPLETE; log to DB; trigger mixing sequence</div>
        <div class="alert alert-info">
          <div class="alert-icon">‚ÑπÔ∏è</div>
          <div><strong>Control Parameters:</strong> Load cell accuracy ¬±50g across 500kg range. Tolerance band for all dosing: ¬±0.5% of recipe target. Any ingredient outside tolerance triggers a batch-hold alarm for QA disposition.</div>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üî•</span>Stage 3 ‚Äî Pasteurization Control Logic (Critical Control Point)</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <p>Pasteurization is a HACCP Critical Control Point (CCP1). The PLC enforces both temperature AND hold time requirements. If either parameter deviates, product is automatically diverted to a rework tank via a divert valve, and the batch is placed on hold pending QA review.</p>
        <div class="code-block">
<span class="comment">// HTST Pasteurizer CCP Control ‚Äî LAD/SCL Hybrid</span>
<span class="keyword">IF</span> TI_101.Value >= <span class="value">72.0</span> <span class="comment">// Hold temp ‚â• 72¬∞C</span>
<span class="keyword">THEN</span>
    HoldTimer(IN:=TRUE, PT:=T#15S);  <span class="comment">// 15-second hold</span>
    <span class="keyword">IF</span> HoldTimer.Q <span class="comment">// Hold time satisfied</span>
    <span class="keyword">THEN</span>
        MV_Divert := FORWARD;  <span class="comment">// Route to next process</span>
        CCP1_Status := PASS;
        LogCCP1(Batch:=CurrentBatch, Temp:=TI_101.Value, HoldTime:=15);
    <span class="keyword">END_IF</span>;
<span class="keyword">ELSE</span>
    HoldTimer(IN:=FALSE);      <span class="comment">// Reset hold timer</span>
    MV_Divert := REWORK;       <span class="comment">// Divert to rework</span>
    CCP1_Status := FAIL;
    Alarm_CCP1_Deviation := TRUE; <span class="comment">// P1 alarm to SCADA</span>
<span class="keyword">END_IF</span>;</div>
        <div class="alert alert-danger">
          <div class="alert-icon">üö®</div>
          <div><strong>FOOD SAFETY CRITICAL:</strong> The pasteurizer divert valve logic must NEVER be bypassed in production. Any request to bypass this interlock must be escalated to the Plant Manager and QA Manager with written justification and risk assessment completed before any action is taken.</div>
        </div>
      </div>
    </div>

    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚ùÑÔ∏è</span>Stage 5 ‚Äî Continuous Freezer Control</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <p>The continuous freezer (barrel freezer / scraped surface heat exchanger) is one of the most automation-intensive systems in the plant. The PLC controls refrigerant feed (via electronic expansion valve), dasher speed (VFD), air injection rate (overrun control), and mix feed rate ‚Äî all simultaneously, with interlocks preventing operation outside safe parameters.</p>
        <div class="table-wrap">
          <table>
            <thead><tr><th>Parameter</th><th>Control Method</th><th>Setpoint</th><th>Interlock</th></tr></thead>
            <tbody>
              <tr><td>Barrel exit temperature</td><td>PID ‚Äî refrigerant EEV position</td><td>-4¬∞C to -6¬∞C</td><td>Stop if &lt; -8¬∞C or &gt; -2¬∞C for &gt;30s</td></tr>
              <tr><td>Dasher (scraper) speed</td><td>VFD ‚Äî recipe-controlled</td><td>Recipe-dependent (200‚Äì500 RPM)</td><td>Overload trip at 120% FLA</td></tr>
              <tr><td>Air injection (overrun)</td><td>Mass flow controller setpoint</td><td>Product-dependent (60‚Äì120%)</td><td>Freeze stop if overrun &lt; 20%</td></tr>
              <tr><td>Mix feed rate</td><td>VFD feed pump</td><td>200‚Äì1200 L/hr</td><td>Low-level interlock on balance tank</td></tr>
              <tr><td>Refrigerant pressure</td><td>Compressor control system</td><td>-25¬∞C evaporating</td><td>High pressure safety switch (hardware)</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 7: SAFETY ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="safety">
    <div class="section-header">
      <div class="section-num">7</div>
      <h2 class="section-title">Safety & Compliance</h2>
    </div>

    <div class="alert alert-danger">
      <div class="alert-icon">‚õî</div>
      <div><strong>Non-Negotiable Safety Rule:</strong> Safety is always prioritised over production output. No production target justifies bypassing a safety system, skipping a lockout procedure, or entering a hazardous zone without proper authorisation and PPE.</div>
    </div>

    <div class="card-grid">
      <div class="card">
        <div class="card-title">üçΩÔ∏è Food Safety Standards</div>
        <ul>
          <li><strong>HACCP:</strong> Understand and protect all CCPs ‚Äî pasteurizer temperature/time and metal detection</li>
          <li><strong>ISO 22000:2018:</strong> Document all automation-related food safety controls</li>
          <li><strong>GMP:</strong> Maintain hygienic design of all sensors installed in food contact zones</li>
          <li><strong>Allergen control:</strong> Verify HMI recipe interlocks for allergen changeover cleans</li>
          <li><strong>CIP verification:</strong> Confirm conductivity and temperature targets are met and logged</li>
          <li><strong>EHEDG principles:</strong> All field instrument installations in hygienic zones must be smooth, crevice-free, and rated IP69K minimum</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">‚ö° Electrical Safety</div>
        <ul>
          <li><strong>EN 60204-1:</strong> All panels and drives comply with machinery electrical safety directive</li>
          <li><strong>IEC 62443:</strong> Network cybersecurity ‚Äî no unauthorized USB or external devices on OT network</li>
          <li><strong>PAT testing:</strong> All portable electrical tools must be in-date tested</li>
          <li><strong>Arc flash:</strong> Appropriate PPE for panel work ‚Äî minimum Cat 2 arc flash where applicable</li>
          <li><strong>SIL assessment:</strong> Safety functions validated per IEC 62061 / IEC 61511</li>
          <li><strong>Periodic inspection:</strong> 5-year formal electrical installation inspection (EICR)</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">‚ö° High-Speed Packaging Safety</div>
        <ul>
          <li>All guards with safety interlocks use PROFISAFE (FSoE) modules ‚Äî never bypass</li>
          <li>Servo axes must be STO (Safe Torque Off) confirmed before any access</li>
          <li>Light curtains on filling stations: function tested at start of each shift</li>
          <li>Reject bin access must be interlocked to halt conveyor automatically</li>
          <li>Finger trap hazards: all nip points must have fixed or interlocked guards</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">üå°Ô∏è Temperature-Sensitive Production Risks</div>
        <ul>
          <li>Working in -30¬∞C hardening rooms: maximum 20 min without warm-up break; buddy system required</li>
          <li>Hot surfaces on pasteurizer (up to 90¬∞C): thermal insulation and PPE gloves mandatory</li>
          <li>Ammonia refrigeration systems: gas detection monitors must be operational at all times</li>
          <li>Condensation on floors in temperature transition zones: non-slip footwear mandatory</li>
          <li>Cold shock risk: never enter cold store without acclimatisation PPE</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 8: TECHNICAL SKILLS ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="skills">
    <div class="section-header">
      <div class="section-num">8</div>
      <h2 class="section-title">Required Technical Skills Breakdown</h2>
    </div>

    <div class="table-wrap">
      <table>
        <thead><tr><th>Skill Domain</th><th>Tools / Technologies</th><th>Key Activities</th><th>Proficiency Target</th></tr></thead>
        <tbody>
          <tr>
            <td><strong>PLC Programming</strong></td>
            <td>Siemens TIA Portal, S7-1500/300/400, Allen Bradley Studio 5000, IEC 61131-3 (LAD, FBD, SFC, SCL, IL)</td>
            <td>Write and modify control programs, develop function blocks, implement safety logic, manage program versions</td>
            <td><span class="badge badge-red">Expert</span></td>
          </tr>
          <tr>
            <td><strong>HMI Configuration</strong></td>
            <td>SIMATIC HMI (TP/OP series), WinCC Flexible, FactoryTalk View</td>
            <td>Create and modify screens, configure alarms, set up trends, manage user access levels, recipe management pages</td>
            <td><span class="badge badge-red">Advanced</span></td>
          </tr>
          <tr>
            <td><strong>SCADA Systems</strong></td>
            <td>WinCC Professional, Ignition (Inductive Automation), Wonderware InTouch</td>
            <td>Tag database management, historian configuration, report generation, network integration, OPC UA/DA configuration</td>
            <td><span class="badge badge-yellow">Intermediate‚ÄìAdvanced</span></td>
          </tr>
          <tr>
            <td><strong>Database & Reporting</strong></td>
            <td>Microsoft SQL Server, Excel VBA, Crystal Reports, Power BI</td>
            <td>Query production data, build performance dashboards, extract batch records for QA, export OEE reports</td>
            <td><span class="badge badge-yellow">Intermediate</span></td>
          </tr>
          <tr>
            <td><strong>Drive & Motion</strong></td>
            <td>Siemens SINAMICS G/S series, Danfoss FC series, Siemens SIMOTION, Beckhoff TwinCAT</td>
            <td>Parameter commissioning, fault code diagnosis, speed/torque tuning, energy monitoring setup</td>
            <td><span class="badge badge-yellow">Intermediate‚ÄìAdvanced</span></td>
          </tr>
          <tr>
            <td><strong>Project Management</strong></td>
            <td>MS Project, JIRA, site-based project execution</td>
            <td>Plan and execute automation projects, manage FAT/SAT activities, coordinate with contractors, maintain project documentation</td>
            <td><span class="badge badge-blue">Working Knowledge</span></td>
          </tr>
          <tr>
            <td><strong>Leadership & Coaching</strong></td>
            <td>Shift leadership, operator training, cross-functional teamwork</td>
            <td>Lead shift automation team, train operators on HMI and alarm response, mentor junior engineers, present at operational reviews</td>
            <td><span class="badge badge-blue">Growing Competency</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ SECTION 9: SCENARIOS ‚îÄ‚îÄ‚îÄ -->
  <section class="section" id="scenarios">
    <div class="section-header">
      <div class="section-num">9</div>
      <h2 class="section-title">Realistic Example Scenarios</h2>
    </div>

    <div class="scenario">
      <div class="scenario-title">üå°Ô∏è SCENARIO 1: Freezer Temperature Deviation</div>
      <div class="scenario-type">Case Type: Process Control Failure ‚Äî P2 Alarm</div>
      <div class="scenario-body">
        During afternoon shift, the SCADA system generates a P2 alarm on the Continuous Freezer (CF-01). Exit temperature has risen from the -5¬∞C setpoint to -2.1¬∞C over a 12-minute period. Product quality is at risk. The HMI shows the EEV (electronic expansion valve) is at 95% open ‚Äî refrigerant feed is at maximum but temperature continues to rise.
      </div>
      <div class="scenario-steps">
        <div class="scenario-step"><div class="scenario-step-num">1</div><div class="scenario-step-text">Acknowledge P1/P2 alarm in SCADA. Notify production supervisor and QA immediately. Do not dismiss alarm.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">2</div><div class="scenario-step-text">Review SCADA trend: check refrigerant suction/discharge pressures. Low suction pressure indicates refrigerant charge loss or blocked expansion valve. High suction pressure suggests compressor issue.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">3</div><div class="scenario-step-text">Check refrigeration compressor C01 status: verify it is running, check oil level alarm, check interstage pressure. Contact refrigeration technician if compressor in fault.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">4</div><div class="scenario-step-text">If EEV is responding correctly but refrigerant capacity insufficient: consider reducing freezer throughput (lower mix feed pump speed via VFD) to allow temperature recovery.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">5</div><div class="scenario-step-text">If temperature cannot be recovered within 5 minutes: stop production on CF-01. Place product in buffer tank on hold. Notify QA for disposition of out-of-spec product.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">6</div><div class="scenario-step-text">Complete fault log, RCA, and CMMS work order. Record all product on hold with timestamps for QA traceability. Update shift report.</div></div>
      </div>
    </div>

    <div class="scenario">
      <div class="scenario-title">‚ö° SCENARIO 2: Conveyor Motor Overload</div>
      <div class="scenario-type">Case Type: Motor Protection Trip ‚Äî P2 Alarm</div>
      <div class="scenario-body">
        Packaging Line 2 conveyor motor M04 has tripped on thermal overload. The line stops mid-run. HMI shows motor current reached 23.5A before trip (nameplate FLA: 18A). The conveyor carries filled ice cream tubs between filler and lidder. Product is accumulating.
      </div>
      <div class="scenario-steps">
        <div class="scenario-step"><div class="scenario-step-num">1</div><div class="scenario-step-text">Immediately inform line operator and packaging supervisor. Clear any accumulated product manually using qualified operators to prevent a secondary jam or hygiene issue.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">2</div><div class="scenario-step-text">Verify conveyor belt is not mechanically jammed before attempting restart. Physically inspect belt path, check for foreign objects, belt tracking, and drive chain condition.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">3</div><div class="console-step-text">Allow motor thermal relay to cool (typically 10‚Äì15 minutes). Check motor body temperature with thermal camera ‚Äî if &gt;80¬∞C, extend cooling time and investigate root cause before restart.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">4</div><div class="scenario-step-text">Check VFD event log: note the current at trip, ramp rate, and last parameter changes. Verify accel/decel ramp times have not been altered. Check for mechanical drag by rotating the belt manually.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">5</div><div class="scenario-step-text">If root cause is clear (jam, belt misalignment, worn bearing): rectify the mechanical fault, LOTOTO as required. Perform trial restart at reduced speed (50% VFD output) and monitor current.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">6</div><div class="scenario-step-text">Raise CMMS work order for planned bearing inspection and motor winding resistance test. Document OEE downtime event. Complete RCA.</div></div>
      </div>
    </div>

    <div class="scenario">
      <div class="scenario-title">üì° SCENARIO 3: PLC Communication Failure</div>
      <div class="scenario-type">Case Type: PROFINET Network Fault ‚Äî P2 Alarm</div>
      <div class="scenario-body">
        SCADA shows all tags from Remote I/O station ET200SP (Station ID: PSTN-07) have gone to "Bad Quality" ‚Äî grey/invalid in the SCADA interface. The affected station controls the pasteurizer temperature regulation valves. Production has not stopped yet but the section is running in manual mode.
      </div>
      <div class="scenario-steps">
        <div class="scenario-step"><div class="scenario-step-num">1</div><div class="scenario-step-text">Open TIA Portal network view online. Locate PSTN-07 ‚Äî check if device is shown with fault indicator. Note the fault code and sub-code from the device diagnostics window.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">2</div><div class="scenario-step-text">Physically go to PROFINET switch serving PSTN-07. Check the port LED ‚Äî port dark means cable fault or device unpowered. Check patch cable at both ends: switch port and ET200SP head module.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">3</div><div class="scenario-step-text">Test cable continuity with PROFINET cable tester. If cable is faulty in a wet zone (common in steam/CIP areas), replace with IP67-rated M12 PROFINET cable.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">4</div><div class="scenario-step-text">If cable is intact, check 24VDC supply to ET200SP ‚Äî verify power module LED. A power module fault will disconnect all I/O. Replace power module if required (hot-swap capable).</div></div>
        <div class="scenario-step"><div class="scenario-step-num">5</div><div class="scenario-step-text">After reconnection, verify PROFINET communication restored in TIA Portal. Check all I/O values are valid before returning pasteurizer to automatic mode. Verify temperature control loop is responding correctly.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">6</div><div class="scenario-step-text">Document network fault, duration, and resolution. Update network topology diagram if any changes made. Consider redundant power supply for critical PROFINET stations as CAPEX request.</div></div>
      </div>
    </div>

    <div class="scenario">
      <div class="scenario-title">üö® SCENARIO 4: Emergency Shutdown (E-Stop Activation)</div>
      <div class="scenario-type">Case Type: Safety Event ‚Äî P1 Immediate Response</div>
      <div class="scenario-body">
        An E-stop on Packaging Line 1 has been activated by an operator. The entire line is stopped. The HMI shows E-stop zone PL1-ES-07 (wrapping machine infeed area). The reason for activation is unknown ‚Äî it could be a genuine safety emergency or an accidental activation.
      </div>
      <div class="scenario-steps">
        <div class="scenario-step"><div class="scenario-step-num">1</div><div class="scenario-step-text">NEVER attempt to immediately reset the E-stop. Treat all E-stop activations as genuine safety events until confirmed otherwise. Proceed to the location immediately.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">2</div><div class="scenario-step-text">Confirm no personnel are in a hazardous position. Check for injuries. If injury has occurred: call first aider immediately, do not move the injured person unless in immediate danger.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">3</div><div class="scenario-step-text">Identify the E-stop that was activated (location PL1-ES-07). Confirm it is a twist-release type ‚Äî verify the release procedure. Never cut-out or bypass E-stop devices.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">4</div><div class="scenario-step-text">With area confirmed safe and reason for activation identified and documented: release E-stop physically (twist to release). Safety relay will require a reset command from the HMI after all E-stops are confirmed released.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">5</div><div class="scenario-step-text">Perform pre-restart check: clear any jammed product, verify all guards are in position, confirm all personnel are clear of the line. Announce restart using factory PA or radio.</div></div>
        <div class="scenario-step"><div class="scenario-step-num">6</div><div class="scenario-step-text">Complete mandatory E-stop incident report regardless of cause. This is a regulatory requirement. Report to safety officer within 30 minutes. Review E-stop response time in safety relay log.</div></div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SECTION 10 ‚Äî PLC TECHNICAL ASSESSMENT PREPARATION
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

  <!-- Section banner / print button -->
  <div id="assessment-print-bar" style="margin-top:48px; background:linear-gradient(90deg,#0a1628,#122040); border-radius:12px; padding:22px 30px; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:14px; border-left:5px solid #f97316;">
    <div>
      <div style="font-size:10px; color:#f97316; text-transform:uppercase; letter-spacing:2px; font-family:var(--font-mono); margin-bottom:4px;">Serbia Deployment ‚Äî Addendum v2.5</div>
      <div style="font-family:var(--font-display); font-size:26px; font-weight:800; color:#f8fafc; letter-spacing:0.5px;">PLC Technical Assessment Preparation Guide</div>
      <div style="font-size:13px; color:#94a3b8; margin-top:4px;">Written Exam ¬∑ Ladder Logic ¬∑ Electrical Diagrams ¬∑ Interview ¬∑ Rapid-Fire Q&amp;A</div>
    </div>
    <button class="btn btn-primary" onclick="printAssessment()" style="white-space:nowrap; padding:10px 22px; font-size:13px;">üñ®Ô∏è Print Assessment Section</button>
  </div>

  <!-- ‚îÄ‚îÄ 10.1 Overview ‚îÄ‚îÄ -->
  <section class="section" id="assessment">
    <div class="section-header">
      <div class="section-num" style="background:#1a4b8c;">10</div>
      <h2 class="section-title">Overview of Technical Assessment ‚Äî Serbia Manufacturing Setup</h2>
    </div>

    <p>The technical assessment for an Automation Engineer role at a Serbian ice cream manufacturing plant is structured to evaluate your real-world PLC competency, electrical diagnosis ability, food safety awareness, and leadership aptitude. The assessment is typically conducted over a half-day to full-day session by a panel of senior engineers and the plant manager.</p>

    <div class="card-grid">
      <div class="stat-card" style="border-top-color:#f97316;">
        <div class="stat-icon">üìù</div>
        <div class="stat-label">Stage 1</div>
        <div class="stat-value">Written Exam</div>
        <div class="stat-desc">30‚Äì40 questions covering PLC theory, electrical principles, food safety, and process control. Duration: 60‚Äì90 minutes.</div>
      </div>
      <div class="stat-card" style="border-top-color:#1a4b8c;">
        <div class="stat-icon">üß©</div>
        <div class="stat-label">Stage 2</div>
        <div class="stat-value">Ladder Logic Test</div>
        <div class="stat-desc">Write or complete 3‚Äì5 ladder logic programs on paper or TIA Portal. Covers motor control, interlocks, timers, and sequence logic.</div>
      </div>
      <div class="stat-card" style="border-top-color:#16a34a;">
        <div class="stat-icon">üîå</div>
        <div class="stat-label">Stage 3</div>
        <div class="stat-value">Diagram Interpretation</div>
        <div class="stat-desc">Identify faults in motor circuit diagrams, interpret VFD wiring, and read P&amp;ID drawings for the pasteurizer or freezer system.</div>
      </div>
      <div class="stat-card" style="border-top-color:#dc2626;">
        <div class="stat-icon">üî¨</div>
        <div class="stat-label">Stage 4</div>
        <div class="stat-value">Troubleshoot Simulation</div>
        <div class="stat-desc">Given a fault scenario (PLC, network, sensor), diagnose the root cause and present your structured resolution approach.</div>
      </div>
      <div class="stat-card" style="border-top-color:#ca8a04;">
        <div class="stat-icon">‚ö†Ô∏è</div>
        <div class="stat-label">Stage 5</div>
        <div class="stat-value">Safety Compliance Q&amp;A</div>
        <div class="stat-desc">Verbal or written questions on HACCP CCPs, LOTOTO, IEC 62061 safety integrity, food hygiene zone requirements, and CE marking.</div>
      </div>
      <div class="stat-card" style="border-top-color:#7c3aed;">
        <div class="stat-icon">üó£Ô∏è</div>
        <div class="stat-label">Stage 6</div>
        <div class="stat-value">Scenario Interview</div>
        <div class="stat-desc">Panel interview with STAR-method behavioural questions on past fault resolution, leadership under pressure, and production improvement.</div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">üìã Assessment Scoring Matrix</div>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Assessment Stage</th><th>Max Score</th><th>Pass Threshold</th><th>Weighting</th><th>Key Focus</th></tr></thead>
          <tbody>
            <tr><td>Written Exam</td><td>100 pts</td><td>65 pts</td><td>25%</td><td>Theory, safety standards, process knowledge</td></tr>
            <tr><td>Ladder Logic Test</td><td>100 pts</td><td>70 pts</td><td>30%</td><td>Correct logic, interlock use, syntax accuracy</td></tr>
            <tr><td>Diagram Interpretation</td><td>100 pts</td><td>65 pts</td><td>15%</td><td>Circuit reading, fault identification</td></tr>
            <tr><td>Troubleshoot Simulation</td><td>100 pts</td><td>70 pts</td><td>20%</td><td>Structured diagnosis, RCA quality</td></tr>
            <tr><td>Scenario Interview</td><td>100 pts</td><td>60 pts</td><td>10%</td><td>Communication, leadership, cultural fit</td></tr>
          </tbody>
        </table>
      </div>
      <div class="alert alert-info" style="margin-top:12px;">
        <div class="alert-icon">‚ÑπÔ∏è</div>
        <div><strong>Tip:</strong> The Ladder Logic Test carries the highest weighting. Practise writing clean, commented logic for motor, interlock, and timer circuits. Assessors in European plants favour clarity and structure over complexity.</div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ 10.2 PLC Programming Test Practice ‚îÄ‚îÄ -->
  <section class="section" id="plc-test">
    <div class="section-header">
      <div class="section-num" style="background:#1a4b8c;">10.2</div>
      <h2 class="section-title">PLC Programming Test Practice</h2>
    </div>

    <p>The following exercises reflect the actual format and difficulty of PLC programming assessments conducted at European food manufacturing plants. Study each problem description, understand the required behaviour, then review the step-by-step solution logic before attempting to write your own version.</p>

    <!-- A. Ladder Logic Exercises -->
    <div class="subsection-title" style="margin-top:20px;">A ‚Äî Ladder Logic Exercises</div>

    <div class="collapsible open" id="ll-motor">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üîµ</span> Exercise A1 ‚Äî Motor Start/Stop with Overload Protection</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="two-col">
          <div>
            <div class="highlight-box">
              <div class="highlight-box-title">üìã Problem Description</div>
              <p>Design a standard motor start/stop circuit for Mix Pump M01. The motor must start only when the Start button is pressed AND the overload relay contact is healthy. Once running, it must seal itself in (latch) so the operator can release the Start button. A Stop button or overload trip must de-energise the motor immediately.</p>
              <ul style="margin-top:8px;">
                <li>Input I0.0 ‚Äî Start pushbutton (NO, momentary)</li>
                <li>Input I0.1 ‚Äî Stop pushbutton (NC, momentary)</li>
                <li>Input I0.2 ‚Äî Overload relay contact (NC when healthy)</li>
                <li>Output Q0.0 ‚Äî Motor contactor coil</li>
              </ul>
            </div>
            <div class="highlight-box" style="background:linear-gradient(90deg,#f0fdf4,#fff); border-color:#86efac; border-left-color:#16a34a;">
              <div class="highlight-box-title" style="color:#166534;">‚úÖ Expected Logic Behaviour</div>
              <ul>
                <li>Motor starts ONLY when: I0.0=1 AND I0.1=1 (NC closed) AND I0.2=1 (NC closed)</li>
                <li>Seal-in rung keeps Q0.0 energised after Start button release</li>
                <li>Stop button (I0.1 opens) immediately drops Q0.0</li>
                <li>Overload trip (I0.2 opens) immediately drops Q0.0</li>
                <li>Motor cannot restart automatically after overload trip ‚Äî operator must reset</li>
              </ul>
            </div>
          </div>
          <div>
            <div class="code-block" style="font-size:11.5px; line-height:1.9;">
<span class="comment">// NETWORK 1 ‚Äî Motor Start/Stop with Seal-In</span>
<span class="comment">// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="comment">// Rung 1: Start condition</span>
<span class="keyword">|----[ ]----[/]----[/]---------( )----|</span>
     I0.0   I0.1   I0.2       Q0.0

<span class="comment">// Rung 2: Seal-in (parallel with Start button)</span>
<span class="keyword">|----[ ]------------------------( )----|</span>
     Q0.0                      Q0.0

<span class="comment">// Combined representation:</span>
<span class="keyword">|--+--[ I0.0 ]--+--[/I0.1]--[/I0.2]--( Q0.0 )--|</span>
   |             |
   +--[ Q0.0 ]--+

<span class="comment">// NETWORK 2 ‚Äî Motor Run Status Indicator</span>
<span class="keyword">|----[ ]---------------------------( )----|</span>
     Q0.0                          Q0.1
<span class="comment">// Q0.1 = Run pilot light on HMI panel</span>

<span class="comment">// NETWORK 3 ‚Äî Overload Alarm to SCADA</span>
<span class="keyword">|----[/]---------------------------( )----|</span>
     I0.2                          M0.0
<span class="comment">// M0.0 = Alarm bit mapped to SCADA tag M01_OVL_ALARM</span></div>
            <div class="alert alert-warning" style="margin-top:12px;">
              <div class="alert-icon">‚ö†Ô∏è</div>
              <div><strong>Common Assessment Mistake:</strong> Placing the seal-in contact in series rather than parallel with the Start button. Always place Q0.0 seal contact in PARALLEL with I0.0 ‚Äî not in series.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="collapsible" id="ll-freezer">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚ùÑÔ∏è</span> Exercise A2 ‚Äî Freezer Compressor Interlock Logic</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="highlight-box">
          <div class="highlight-box-title">üìã Problem Description</div>
          <p>The freezer compressor C01 must only start when ALL of the following interlocks are satisfied: oil pressure is adequate, suction pressure is within range, discharge temperature is below limit, and the crankcase heater has been energised for a minimum of 4 hours after a cold start. Additionally, if the compressor runs for more than 2 minutes without building suction pressure, it must trip and alarm.</p>
          <ul style="margin-top:8px;">
            <li>I1.0 ‚Äî Oil pressure switch (NO, closes when pressure OK)</li>
            <li>I1.1 ‚Äî Suction pressure low switch (NC, opens when pressure too low)</li>
            <li>I1.2 ‚Äî Discharge temp high switch (NC, opens when overtemp)</li>
            <li>M1.0 ‚Äî Crankcase heater timer done bit (set by separate timer rung)</li>
            <li>I1.3 ‚Äî Suction pressure confirmation (NO, closes when pressure builds)</li>
            <li>Q1.0 ‚Äî Compressor contactor output</li>
          </ul>
        </div>
        <div class="code-block" style="font-size:11px; line-height:2;">
<span class="comment">// NETWORK 1 ‚Äî Crankcase Heater Preheat Timer (4 hours)</span>
<span class="keyword">TON</span> Timer_CCH (IN:= <span class="value">NOT</span> Q1.0, PT:= T#4H);
M1.0 := Timer_CCH.Q;   <span class="comment">// M1.0 = TRUE after 4h with compressor off</span>

<span class="comment">// NETWORK 2 ‚Äî Compressor Start Interlock</span>
<span class="keyword">|--[ I1.0 ]--[/I1.1]--[/I1.2]--[ M1.0 ]--( Q1.0 )--|</span>
<span class="comment">// ALL four conditions must be TRUE to permit start</span>

<span class="comment">// NETWORK 3 ‚Äî Suction Pressure Build-Up Watchdog</span>
<span class="keyword">TON</span> Timer_SuctionWD (IN:= Q1.0 AND NOT I1.3, PT:= T#2M);
<span class="comment">// Timer runs while compressor is ON but suction not confirmed</span>

<span class="comment">// NETWORK 4 ‚Äî Watchdog Trip</span>
<span class="keyword">|--[ Timer_SuctionWD.Q ]--( Q1.0_TRIP )--|</span>
<span class="keyword">|--[ Timer_SuctionWD.Q ]--( M1.1       )--|</span>
<span class="comment">// M1.1 = SCADA alarm: "Compressor suction pressure not established"</span>
<span class="comment">// Q1.0_TRIP = latching trip bit; requires manual reset via HMI</span></div>
        <div class="alert alert-info">
          <div class="alert-icon">‚ÑπÔ∏è</div>
          <div><strong>Key Assessment Point:</strong> The compressor interlock uses NC (normally closed) contacts for the protection switches ‚Äî this is fail-safe design. If a wire breaks or sensor fails, the contact opens and the compressor cannot start. Always justify your choice of NO vs NC in the assessment.</div>
        </div>
      </div>
    </div>

    <div class="collapsible" id="ll-conveyor">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üè≠</span> Exercise A3 ‚Äî Conveyor Sequential Start Logic</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="highlight-box">
          <div class="highlight-box-title">üìã Problem Description</div>
          <p>Three conveyors (C1, C2, C3) must start in reverse order (C3 first, then C2, then C1) with a 5-second delay between each, to prevent product pile-up. They must stop in forward order (C1 first, then C2, then C3) with the same 5-second delay. An E-stop must stop all three simultaneously with no delay.</p>
        </div>
        <div class="code-block" style="font-size:11px; line-height:1.9;">
<span class="comment">// NETWORK 1 ‚Äî Start Sequence Trigger</span>
<span class="keyword">|--[ I2.0 ]--[/ M_Seq_Active]--( M_Seq_Active )--|</span>
<span class="comment">// I2.0 = Line Start PB; M_Seq_Active = sequence running flag</span>

<span class="comment">// NETWORK 2 ‚Äî C3 starts immediately on sequence trigger</span>
<span class="keyword">|--[ M_Seq_Active ]--[/ E_Stop ]--( Q_C3 )--|</span>

<span class="comment">// NETWORK 3 ‚Äî 5s delay, then start C2</span>
<span class="keyword">TON</span> T_C2_Delay (IN:= Q_C3, PT:= T#5S);
<span class="keyword">|--[ T_C2_Delay.Q ]--[/ E_Stop ]--( Q_C2 )--|</span>

<span class="comment">// NETWORK 4 ‚Äî 5s after C2, start C1</span>
<span class="keyword">TON</span> T_C1_Delay (IN:= Q_C2, PT:= T#5S);
<span class="keyword">|--[ T_C1_Delay.Q ]--[/ E_Stop ]--( Q_C1 )--|</span>

<span class="comment">// NETWORK 5 ‚Äî Stop Sequence (C1 stops first)</span>
<span class="keyword">|--[ I2.1 ]--( M_Stop_Seq )--|</span>  <span class="comment">// I2.1 = Line Stop PB</span>
<span class="keyword">|--[ M_Stop_Seq ]--RESET( Q_C1 )--|</span>

<span class="keyword">TON</span> T_C2_Stop (IN:= M_Stop_Seq, PT:= T#5S);
<span class="keyword">|--[ T_C2_Stop.Q ]--RESET( Q_C2 )--|</span>

<span class="keyword">TON</span> T_C3_Stop (IN:= T_C2_Stop.Q, PT:= T#5S);
<span class="keyword">|--[ T_C3_Stop.Q ]--RESET( Q_C3 )--|</span>
<span class="keyword">|--[ T_C3_Stop.Q ]--RESET( M_Seq_Active )--|</span>

<span class="comment">// NETWORK 6 ‚Äî E-Stop: immediate all-stop (overrides sequence)</span>
<span class="keyword">|--[/ I2.2 ]--RESET( Q_C1 )--|</span>  <span class="comment">// I2.2 = E-Stop (NC)</span>
<span class="keyword">|--[/ I2.2 ]--RESET( Q_C2 )--|</span>
<span class="keyword">|--[/ I2.2 ]--RESET( Q_C3 )--|</span>
<span class="keyword">|--[/ I2.2 ]--RESET( M_Seq_Active )--|</span></div>
      </div>
    </div>

    <!-- B. Timer & Counter Exercises -->
    <div class="subsection-title" style="margin-top:24px;">B ‚Äî Timer &amp; Counter Assessment</div>

    <div class="collapsible" id="tc-past">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚è±Ô∏è</span> Exercise B1 ‚Äî Pasteurization Hold Time Validation</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="highlight-box">
          <div class="highlight-box-title">üìã Problem Description</div>
          <p>The HTST pasteurizer must validate that product has been held at or above 72¬∞C for a continuous 15-second period. If the temperature drops below 72¬∞C at any point during the hold, the timer must reset to zero and begin again. Product may only proceed to the next stage after a full uninterrupted 15-second hold is confirmed. A CCP pass bit must be set and logged.</p>
        </div>
        <div class="code-block" style="font-size:11px; line-height:1.9;">
<span class="comment">// NETWORK 1 ‚Äî Temperature condition bit</span>
M_TempOK := (TI_101 >= <span class="value">72.0</span>);
<span class="comment">// M_TempOK = TRUE when pasteurizer temperature is at or above CCP setpoint</span>

<span class="comment">// NETWORK 2 ‚Äî Hold timer (resets if temp drops)</span>
<span class="keyword">TON</span> T_HoldTimer (IN:= M_TempOK, PT:= T#15S);
<span class="comment">// Timer auto-resets when IN goes FALSE (temp deviation)</span>
<span class="comment">// Timer must run continuously for 15s for Q to go TRUE</span>

<span class="comment">// NETWORK 3 ‚Äî CCP Pass logic</span>
<span class="keyword">|--[ T_HoldTimer.Q ]--( M_CCP1_Pass )--|</span>
<span class="keyword">|--[ T_HoldTimer.Q ]--( MV_Divert_Fwd )--|</span>   <span class="comment">// Open forward divert valve</span>

<span class="comment">// NETWORK 4 ‚Äî CCP Fail / Divert</span>
<span class="keyword">|--[/ M_CCP1_Pass ]--[/ M_TempOK ]--( MV_Divert_Rework )--|</span>
<span class="keyword">|--[/ M_CCP1_Pass ]--[/ M_TempOK ]--( Alarm_CCP1_Fail  )--|</span>

<span class="comment">// NETWORK 5 ‚Äî Log to database (rising edge trigger)</span>
R_TRIG LogTrigger (CLK:= M_CCP1_Pass);
<span class="keyword">IF</span> LogTrigger.Q <span class="keyword">THEN</span>
    DB_CCP.BatchID  := CurrentBatch;
    DB_CCP.PassTemp := TI_101;
    DB_CCP.PassTime := S5TIME_TO_TIME(T_HoldTimer.ET);
    DB_CCP.Timestamp:= DATE_AND_TIME();
<span class="keyword">END_IF</span>;</div>
      </div>
    </div>

    <div class="collapsible" id="tc-batch">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üî¢</span> Exercise B2 ‚Äî Production Batch Counter Logic</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="highlight-box">
          <div class="highlight-box-title">üìã Problem Description</div>
          <p>Count the number of ice cream tubs passing through a photoelectric sensor on the packaging line. Every 1,000 tubs constitutes one production batch. When the counter reaches 1,000, generate a batch-complete signal, log the batch to the SCADA database, reset the counter, and increment the batch number register. Provide a reject counter that subtracts from the good count.</p>
        </div>
        <div class="code-block" style="font-size:11px; line-height:1.9;">
<span class="comment">// NETWORK 1 ‚Äî Tub detection (rising edge on photoelectric sensor)</span>
R_TRIG Tub_Detect (CLK:= I3.0);   <span class="comment">// I3.0 = Photoelectric sensor</span>

<span class="comment">// NETWORK 2 ‚Äî Good tub counter</span>
<span class="keyword">CTU</span> CTR_Good (CU:= Tub_Detect.Q AND NOT I3.1,
              R := M_BatchComplete,
              PV:= <span class="value">1000</span>);
<span class="comment">// I3.1 = Reject signal from checkweigher / vision system</span>

<span class="comment">// NETWORK 3 ‚Äî Reject counter</span>
<span class="keyword">CTU</span> CTR_Reject (CU:= Tub_Detect.Q AND I3.1,
                R := M_BatchComplete,
                PV:= <span class="value">9999</span>);  <span class="comment">// No upper limit ‚Äî just counts</span>

<span class="comment">// NETWORK 4 ‚Äî Batch complete when good counter reaches PV</span>
<span class="keyword">|--[ CTR_Good.Q ]--( M_BatchComplete )--|</span>

<span class="comment">// NETWORK 5 ‚Äî Increment batch number and log</span>
R_TRIG BatchEdge (CLK:= M_BatchComplete);
<span class="keyword">IF</span> BatchEdge.Q <span class="keyword">THEN</span>
    BatchNumber := BatchNumber + <span class="value">1</span>;
    DB_Production.GoodCount   := CTR_Good.CV;
    DB_Production.RejectCount := CTR_Reject.CV;
    DB_Production.BatchNum    := BatchNumber;
    DB_Production.Timestamp   := DATE_AND_TIME();
    SCADA_Batch_Complete      := TRUE;
<span class="keyword">END_IF</span>;</div>
      </div>
    </div>

    <!-- C. Analog Control -->
    <div class="subsection-title" style="margin-top:24px;">C ‚Äî Analog Control Scenario</div>

    <div class="collapsible" id="ac-pid">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üìà</span> Exercise C1 ‚Äî PID Loop for Freezer Temperature Control</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="two-col">
          <div>
            <div class="highlight-box">
              <div class="highlight-box-title">üìã PID Explanation ‚Äî Freezer Temperature</div>
              <p>The continuous freezer barrel exit temperature is controlled by a PID loop that adjusts the electronic expansion valve (EEV) position. The PID output drives the EEV from 0% (fully closed) to 100% (fully open) to regulate refrigerant flow.</p>
              <p style="margin-top:8px;"><strong>Proportional (Kp):</strong> Reacts immediately to the error (SP ‚àí PV). A higher Kp means faster response but can cause oscillation.</p>
              <p style="margin-top:6px;"><strong>Integral (Ti):</strong> Eliminates steady-state offset over time. Too low a Ti causes slow correction; too high causes windup and overshoot.</p>
              <p style="margin-top:6px;"><strong>Derivative (Td):</strong> Anticipates future error from the rate of change. Helps dampen overshoot but amplifies noise ‚Äî use carefully with temperature sensors.</p>
            </div>
          </div>
          <div>
            <div class="code-block" style="font-size:11px; line-height:1.9;">
<span class="comment">// Freezer PID Block ‚Äî Siemens CONT_C equivalent</span>
<span class="keyword">FB</span> "PID_Compact" Instance "PID_Freezer"
(
  Setpoint    := <span class="value">-5.0</span>,       <span class="comment">// ¬∞C exit temp target</span>
  Input       := TI_Freezer,  <span class="comment">// PT100 AI scaled value</span>
  Output      => EEV_Position, <span class="comment">// 0.0‚Äì100.0 % output</span>
  Kp          := <span class="value">3.2</span>,
  Ti          := <span class="value">90.0</span>,        <span class="comment">// seconds</span>
  Td          := <span class="value">8.0</span>,
  OutputLimLow  := <span class="value">0.0</span>,
  OutputLimHigh := <span class="value">100.0</span>
);

<span class="comment">// Sensor fault detection</span>
<span class="keyword">IF</span> (TI_Freezer < <span class="value">-50.0</span>) OR (TI_Freezer > <span class="value">50.0</span>) <span class="keyword">THEN</span>
  PID_Freezer.ManualEnable := TRUE;
  PID_Freezer.ManualValue  := <span class="value">50.0</span>;  <span class="comment">// Hold EEV at 50%</span>
  Alarm_SensorFault_TI     := TRUE;
<span class="keyword">END_IF</span>;</div>
            <div class="alert alert-warning" style="margin-top:10px;">
              <div class="alert-icon">‚ö†Ô∏è</div>
              <div><strong>Assessment Note:</strong> Always include output clamping (0‚Äì100%) and sensor fault fallback logic. Assessors deduct marks for PID blocks without output limits or fault handling.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ 10.3 Electrical Diagram Interpretation ‚îÄ‚îÄ -->
  <section class="section" id="diagram-test">
    <div class="section-header">
      <div class="section-num" style="background:#1a4b8c;">10.3</div>
      <h2 class="section-title">Electrical Diagram Interpretation Test</h2>
    </div>

    <p>Assessors will present you with real industrial circuit drawings and ask you to analyse them, identify faults, or explain operating principles. The following table-based Q&amp;A format mirrors the style used in European manufacturing technical assessments.</p>

    <!-- Motor Circuit Analysis -->
    <div class="collapsible open" id="diag-motor">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üîå</span> Motor Control Circuit Analysis ‚Äî Q&amp;A</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th style="width:40%;">Question</th><th>Model Answer</th><th>Mark</th></tr></thead>
            <tbody>
              <tr>
                <td><strong>Q1.</strong> In a DOL starter, what is the purpose of the auxiliary contact of the main contactor wired in parallel with the Start button?</td>
                <td>It is the <strong>seal-in (hold-in) contact</strong>. Once the contactor is energised by the Start button, this auxiliary contact bridges the Start button so the contactor remains energised when the operator releases the button. Without it, the motor would only run while the Start button is held.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q2.</strong> A motor draws 14A during normal run. The overload relay is set to 10A. What will happen and what is the correct setting?</td>
                <td>The overload relay will trip the motor immediately or within a very short time, because the trip current (10A) is below the motor's normal full-load current (14A). The overload should be set to approximately <strong>100‚Äì115% of the motor's full-load ampere (FLA)</strong> ‚Äî in this case, 14.0‚Äì16.1A. Verify FLA from the motor nameplate.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q3.</strong> Why is the Stop button wired as Normally Closed (NC) rather than Normally Open (NO)?</td>
                <td>NC wiring is <strong>fail-safe</strong>. If the wire to the Stop button breaks, the NC contact opens and the motor stops ‚Äî the safe state. If it were NO, a broken wire would leave the Stop button permanently ineffective, making it impossible to stop the motor in an emergency. This principle is required under EN 60204-1.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q4.</strong> On a panel diagram, you see an MCB (miniature circuit breaker) upstream of the motor starter. What is its role and what is its key difference from a fuse?</td>
                <td>The MCB provides <strong>short-circuit and overload protection</strong> for the circuit conductors. Unlike a fuse, which must be replaced after operation, an MCB can be <strong>reset manually</strong> after a trip. MCBs have a thermal-magnetic trip mechanism ‚Äî the thermal element handles overloads and the magnetic element handles short circuits. Fuses are faster for very high fault currents but are single-use.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q5.</strong> You are reading a circuit diagram and see a relay coil symbol labelled "K1" with two contacts ‚Äî one labelled "K1/1" (NO) and one "K1/2" (NC). What does this mean?</td>
                <td>K1 is the relay designation. K1/1 is its <strong>first contact, Normally Open</strong> ‚Äî it closes when the K1 coil is energised. K1/2 is its <strong>second contact, Normally Closed</strong> ‚Äî it opens when the K1 coil is energised. Multiple contacts of the same relay can appear throughout the diagram; the slash notation identifies which contact belongs to which relay.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Star-Delta -->
    <div class="collapsible" id="diag-sd">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">‚≠ê</span> Star-Delta Starter Logic ‚Äî Q&amp;A</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th style="width:40%;">Question</th><th>Model Answer</th><th>Mark</th></tr></thead>
            <tbody>
              <tr>
                <td><strong>Q1.</strong> Why is a star-delta starter used instead of a DOL starter for large motors like the homogeniser?</td>
                <td>Star-delta reduces the <strong>starting current</strong> to approximately 1/3 of the DOL starting current. This prevents excessive voltage dip on the supply network and reduces mechanical shock on the motor and driven load. It is used for motors typically above 5.5‚Äì7.5kW in European food plant applications.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q2.</strong> In a star-delta starter, what three contactors are used and what is the sequence of operation?</td>
                <td><strong>Three contactors: Main (KM), Star (KS), Delta (KD).</strong> Sequence: (1) KM + KS energise simultaneously ‚Äî motor runs in star connection at reduced voltage. (2) After a timed period (typically 6‚Äì12 seconds), KS de-energises. (3) A brief pause (20‚Äì50ms) prevents simultaneous star-delta energisation. (4) KD energises ‚Äî motor runs in delta at full voltage. An <strong>interlock</strong> between KS and KD prevents both energising at the same time (which would cause a short circuit).</td>
                <td><span class="badge badge-green">10 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q3.</strong> What would happen if the star-delta transition timer was set too short (e.g., 1 second)?</td>
                <td>The motor would <strong>not reach sufficient speed</strong> during star running. When switched to delta, the resulting current surge could be <em>higher</em> than a direct DOL start, defeating the purpose of the starter. This causes mechanical shock and may trip the overload relay. The timer must be set long enough for the motor to reach 70‚Äì80% of synchronous speed before transition.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q4.</strong> On the PLC, how is the star-delta sequence typically implemented?</td>
                <td>Using a <strong>latching output for KM</strong> (main contactor, stays on throughout), a <strong>TON timer</strong> to control the star phase duration, and <strong>interlocked outputs for KS and KD</strong> (one rung resets KS and sets KD after the timer completes, with a brief intermediate state). Hardware interlock contacts between KS and KD are also required as a safety backup to the PLC software interlock.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- VFD Wiring -->
    <div class="collapsible" id="diag-vfd">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üìä</span> VFD Wiring Interpretation ‚Äî Q&amp;A</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th style="width:40%;">Question</th><th>Model Answer</th><th>Mark</th></tr></thead>
            <tbody>
              <tr>
                <td><strong>Q1.</strong> On a VFD wiring diagram you see terminals L1, L2, L3 on the input side and U, V, W on the output. What is the difference?</td>
                <td>L1, L2, L3 are the <strong>AC mains input terminals</strong> (line side) ‚Äî they connect to the supply via an upstream MCB/fuse. U, V, W are the <strong>AC output terminals</strong> (motor side) ‚Äî they connect to the motor. The VFD internally rectifies the AC input to DC, then synthesises a variable frequency AC output at U/V/W to control motor speed. <strong>Never connect a capacitor bank or power factor correction to the VFD output.</strong></td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q2.</strong> A VFD has analogue input AI1 connected to a 4‚Äì20mA signal from the PLC. What would happen if the signal wire breaks and AI1 receives 0mA?</td>
                <td>If the VFD is configured for 4‚Äì20mA control and the signal drops to 0mA (wire break), the VFD should be set to <strong>detect this as a wire-break fault</strong> and respond per parameter configuration ‚Äî typically by tripping the drive and alarming ("AI Loss" fault). This is why 4‚Äì20mA is preferred over 0‚Äì10V for critical speed references: 0V is ambiguous (zero speed vs. wire break), whereas 0mA is always a fault condition.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q3.</strong> Why must the motor cable between a VFD and motor be screened (shielded), and how should the screen be terminated?</td>
                <td>VFDs switch at high frequencies (typically 2‚Äì16kHz PWM), generating <strong>electromagnetic interference (EMI)</strong> that can corrupt signals on nearby instrument cables. A screened cable confines this EMI. The screen must be <strong>bonded at both the VFD and motor ends</strong> using 360¬∞ cable gland or EMC clamp ‚Äî not a pigtail connection ‚Äî to provide a low-impedance return path for high-frequency currents. Single-end bonding is insufficient for VFD applications.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Sensor Wiring -->
    <div class="collapsible" id="diag-sensor">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üîç</span> Sensor Wiring Diagnosis ‚Äî Q&amp;A</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <thead><tr><th style="width:40%;">Question</th><th>Model Answer</th><th>Mark</th></tr></thead>
            <tbody>
              <tr>
                <td><strong>Q1.</strong> A PT100 temperature sensor shows a reading of -999¬∞C on the HMI. What are the three most likely causes?</td>
                <td>(1) <strong>Open circuit</strong> ‚Äî one of the PT100 wires has broken, causing infinite resistance which reads as extreme negative temperature on most transmitters. (2) <strong>Loose terminal</strong> ‚Äî intermittent connection causing signal dropout. (3) <strong>Wrong sensor type configured</strong> in the transmitter ‚Äî e.g., transmitter configured for PT1000 but PT100 is installed; resistance range mismatch causes under-range reading.</td>
                <td><span class="badge badge-green">5 pts</span></td>
              </tr>
              <tr>
                <td><strong>Q2.</strong> The PLC reads I0.5 as permanently ON even though the proximity sensor should be OFF. How do you diagnose this?</td>
                <td>Step 1: <strong>Check the sensor LED indicator</strong> ‚Äî if it shows detection when no target is present, the sensor may be faulty or detecting an unintended object (metallic bracket, product residue). Step 2: <strong>Disconnect the sensor wire at the PLC input terminal</strong> ‚Äî if I0.5 goes OFF, the PLC input and wiring are healthy; fault is in the sensor. If I0.5 stays ON with wire disconnected, the <strong>PLC input card has a faulty channel</strong> (shorted internally). Step 3: If sensor is suspected: measure output voltage with multimeter ‚Äî PNP output should show 24V when active, near 0V when inactive.</td>
                <td><span class="badge badge-green">10 pts</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ 10.4 Troubleshooting Simulation ‚îÄ‚îÄ -->
  <section class="section" id="ts-sim">
    <div class="section-header">
      <div class="section-num" style="background:#dc2626;">10.4</div>
      <h2 class="section-title">Troubleshooting Simulation ‚Äî Case Studies</h2>
    </div>
    <p>Each case study below is structured in the format used during panel assessment troubleshooting simulations. Read the symptoms carefully, follow the diagnosis pathway, and be prepared to present your structured response within 5‚Äì10 minutes.</p>

    <!-- Case 1: PLC CPU Fault -->
    <div class="collapsible open" id="ts1">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üî¥</span> Case Study 1 ‚Äî PLC CPU Fault (S7-1500)</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid" style="margin-bottom:16px;">
          <div style="background:#fee2e2; border-radius:8px; padding:16px; border-left:4px solid #dc2626;">
            <div style="font-weight:700; color:#7f1d1d; margin-bottom:6px; font-size:14px;">üî¥ Symptoms</div>
            <ul style="color:#7f1d1d; font-size:13px;">
              <li>CPU LED flashing RED/YELLOW alternately</li>
              <li>All HMI screens show "PLC Communication Lost"</li>
              <li>SCADA shows all tags as "Bad Quality"</li>
              <li>No E-stop activation ‚Äî lines stopped due to PLC output loss</li>
              <li>Last known CPU run time: 14 months continuous</li>
            </ul>
          </div>
          <div style="background:#fef9c3; border-radius:8px; padding:16px; border-left:4px solid #ca8a04;">
            <div style="font-weight:700; color:#713f12; margin-bottom:6px; font-size:14px;">üîç Diagnosis Steps</div>
            <ol style="color:#713f12; font-size:13px;">
              <li>Read CPU front LED pattern ‚Äî identify fault type from S7-1500 LED manual</li>
              <li>Connect TIA Portal via PROFINET ‚Äî read CPU diagnostic buffer</li>
              <li>Note fault code: check for memory error, firmware fault, or hardware defect</li>
              <li>Try MRES (memory reset) via selector switch ‚Äî observe if CPU returns to RUN</li>
              <li>Check backup battery / internal capacitor status in diagnostics</li>
              <li>Verify 24VDC CPU supply voltage at power supply terminals</li>
            </ol>
          </div>
        </div>
        <div class="two-col">
          <div style="background:#dcfce7; border-radius:8px; padding:16px; border-left:4px solid #16a34a;">
            <div style="font-weight:700; color:#14532d; margin-bottom:6px; font-size:14px;">‚úÖ Root Cause &amp; Corrective Action</div>
            <p style="color:#14532d; font-size:13px;"><strong>Root Cause:</strong> Internal capacitor exhausted (backup capacitor maintains retentive memory during power loss). After 12‚Äì18 months, the CPU loses its retained data structure and enters STOP mode with a memory fault. Diagnosis confirmed via buffer code 16#0A81 "Retentive memory error".</p>
            <p style="color:#14532d; font-size:13px; margin-top:8px;"><strong>Corrective Action:</strong> Perform MRES. Reload project from TIA Portal backup. Restore retentive data values from last historian log. Verify all outputs, HMI screens, and SCADA tags before returning to production.</p>
          </div>
          <div style="background:#dbeafe; border-radius:8px; padding:16px; border-left:4px solid #1a4b8c;">
            <div style="font-weight:700; color:#1e3a5f; margin-bottom:6px; font-size:14px;">üõ°Ô∏è Preventive Action</div>
            <p style="color:#1e3a5f; font-size:13px;"><strong>PM Schedule:</strong> Add "CPU capacitor health check" to the 12-month preventive maintenance schedule. Use TIA Portal diagnostic function "Module status &gt; Capacitor status" to monitor remaining backup time. Replace CPU module proactively if capacitor life &lt; 6 months remaining.</p>
            <p style="color:#1e3a5f; font-size:13px; margin-top:8px;"><strong>Documentation:</strong> Keep a current, tested program backup offline and accessible for immediate reload. Test backup restore procedure annually.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Case 2: I/O Module Failure -->
    <div class="collapsible" id="ts2">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üü†</span> Case Study 2 ‚Äî I/O Module Failure (Wet Zone)</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid" style="margin-bottom:16px;">
          <div style="background:#fee2e2; border-radius:8px; padding:16px; border-left:4px solid #dc2626;">
            <div style="font-weight:700; color:#7f1d1d; margin-bottom:6px; font-size:14px;">üî¥ Symptoms</div>
            <ul style="color:#7f1d1d; font-size:13px;">
              <li>DI module on ET200SP station PSTN-03 shows red "SF" LED</li>
              <li>4 specific digital inputs on channels 0‚Äì3 are permanently showing state "1" regardless of physical sensor state</li>
              <li>Channels 4‚Äì7 on the same module appear healthy</li>
              <li>Fault occurred the morning after CIP (Clean-In-Place) cycle</li>
            </ul>
          </div>
          <div style="background:#fef9c3; border-radius:8px; padding:16px; border-left:4px solid #ca8a04;">
            <div style="font-weight:700; color:#713f12; margin-bottom:6px; font-size:14px;">üîç Diagnosis Steps</div>
            <ol style="color:#713f12; font-size:13px;">
              <li>Read TIA Portal device diagnostics ‚Äî confirm channel-level fault on DI channels 0‚Äì3</li>
              <li>Physically inspect module for condensation or water ingress (CIP timing correlation)</li>
              <li>Disconnect field wiring on channels 0‚Äì3 ‚Äî if still reading "1", module input circuit is damaged</li>
              <li>Measure 24VDC at module supply terminals ‚Äî check for voltage drop</li>
              <li>Swap module with known-good spare (ET200SP modules are hot-swap capable)</li>
              <li>Re-test channels after replacement ‚Äî verify sensor signals return to correct states</li>
            </ol>
          </div>
        </div>
        <div class="two-col">
          <div style="background:#dcfce7; border-radius:8px; padding:16px; border-left:4px solid #16a34a;">
            <div style="font-weight:700; color:#14532d; margin-bottom:6px; font-size:14px;">‚úÖ Root Cause &amp; Corrective Action</div>
            <p style="color:#14532d; font-size:13px;"><strong>Root Cause:</strong> Water ingress into the I/O module housing during high-pressure CIP wash. The water caused a partial short circuit in the input circuitry of channels 0‚Äì3, locking them in the logic "1" state. The module's IP rating was IP20 ‚Äî insufficient for a wet production zone. Replace module immediately. Install IP67-rated remote I/O junction box or use IP67 I/O modules certified for wet zone.</p>
          </div>
          <div style="background:#dbeafe; border-radius:8px; padding:16px; border-left:4px solid #1a4b8c;">
            <div style="font-weight:700; color:#1e3a5f; margin-bottom:6px; font-size:14px;">üõ°Ô∏è Preventive Action</div>
            <p style="color:#1e3a5f; font-size:13px;">Audit all I/O module IP ratings in wet zones. Upgrade to IP67/IP69K rated modules (e.g., Siemens ET200eco PN) or relocate panels outside the CIP spray zone. Add "Post-CIP I/O check" to daily start-of-shift checklist for wet zone stations. Brief hygiene team on panel protection procedures during wash down.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Case 3: PROFINET Loss -->
    <div class="collapsible" id="ts3">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üì°</span> Case Study 3 ‚Äî PROFINET Communication Loss (Intermittent)</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid" style="margin-bottom:16px;">
          <div style="background:#fee2e2; border-radius:8px; padding:16px; border-left:4px solid #dc2626;">
            <div style="font-weight:700; color:#7f1d1d; margin-bottom:6px; font-size:14px;">üî¥ Symptoms</div>
            <ul style="color:#7f1d1d; font-size:13px;">
              <li>PROFINET device PSTN-09 (conveyor I/O) drops offline for 2‚Äì10 seconds, 4‚Äì6 times per shift</li>
              <li>Each dropout triggers conveyor stop interlock, causing product loss</li>
              <li>The cable route passes close to the packaging machine's servo drive cabinet</li>
              <li>Fault started 2 weeks ago ‚Äî no hardware changes were made</li>
              <li>Fault occurs more frequently when packaging speed is highest</li>
            </ul>
          </div>
          <div style="background:#fef9c3; border-radius:8px; padding:16px; border-left:4px solid #ca8a04;">
            <div style="font-weight:700; color:#713f12; margin-bottom:6px; font-size:14px;">üîç Diagnosis Steps</div>
            <ol style="color:#713f12; font-size:13px;">
              <li>Capture PROFINET diagnostic log ‚Äî note exact dropout timestamps</li>
              <li>Correlate dropout timestamps with servo drive operating speed profile</li>
              <li>Inspect PROFINET cable routing ‚Äî identify proximity to servo drive cabinet and power cables</li>
              <li>Use network analyser (port mirror on managed switch) to capture packet loss events</li>
              <li>Check cable screen bonding at both ends of the PROFINET cable near servo cabinet</li>
              <li>Check managed switch port statistics ‚Äî look for CRC errors, late collisions, port resets</li>
            </ol>
          </div>
        </div>
        <div class="two-col">
          <div style="background:#dcfce7; border-radius:8px; padding:16px; border-left:4px solid #16a34a;">
            <div style="font-weight:700; color:#14532d; margin-bottom:6px; font-size:14px;">‚úÖ Root Cause &amp; Corrective Action</div>
            <p style="color:#14532d; font-size:13px;"><strong>Root Cause:</strong> Electromagnetic interference (EMI) from the servo drive's high-frequency PWM switching was coupling into the unshielded section of the PROFINET cable that had been re-routed 3 weeks earlier (maintenance team had re-routed to clear a pathway without updating cable tray records). The cable had a 600mm section running alongside a 25mm¬≤ motor power cable with no separation.</p>
            <p style="color:#14532d; font-size:13px; margin-top:8px;"><strong>Corrective Action:</strong> Re-route PROFINET cable to maintain minimum 200mm separation from all power cables above 24VDC. Verify screen bonding using low-impedance clamp (not pigtail). Install shielded PROFINET cable (Cat 5e SF/UTP or Cat 6A) in affected section.</p>
          </div>
          <div style="background:#dbeafe; border-radius:8px; padding:16px; border-left:4px solid #1a4b8c;">
            <div style="font-weight:700; color:#1e3a5f; margin-bottom:6px; font-size:14px;">üõ°Ô∏è Preventive Action</div>
            <p style="color:#1e3a5f; font-size:13px;">Enforce cable routing change control ‚Äî all cable re-routes must be documented and reviewed by the Automation Engineer before work proceeds. Add cable segregation audit to 6-monthly electrical inspection checklist. Update cable schedule and network diagram with current routing.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Case 4: Unstable Temperature Sensor -->
    <div class="collapsible" id="ts4">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üå°Ô∏è</span> Case Study 4 ‚Äî Temperature Sensor Giving Unstable Readings</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid" style="margin-bottom:16px;">
          <div style="background:#fee2e2; border-radius:8px; padding:16px; border-left:4px solid #dc2626;">
            <div style="font-weight:700; color:#7f1d1d; margin-bottom:6px; font-size:14px;">üî¥ Symptoms</div>
            <ul style="color:#7f1d1d; font-size:13px;">
              <li>TI-201 (aging tank temperature) oscillates ¬±3¬∞C randomly on SCADA trend</li>
              <li>The PID loop for the aging tank is hunting (valve continuously opening and closing)</li>
              <li>The actual tank temperature (verified by a handheld reference thermometer) is stable at +4.1¬∞C</li>
              <li>Sensor was last calibrated 8 months ago ‚Äî within calibration interval</li>
              <li>Fault started during winter when ambient temperature in the electrical room dropped to +12¬∞C</li>
            </ul>
          </div>
          <div style="background:#fef9c3; border-radius:8px; padding:16px; border-left:4px solid #ca8a04;">
            <div style="font-weight:700; color:#713f12; margin-bottom:6px; font-size:14px;">üîç Diagnosis Steps</div>
            <ol style="color:#713f12; font-size:13px;">
              <li>Compare SCADA reading with calibrated handheld reference ‚Äî confirms signal noise, not actual temperature fluctuation</li>
              <li>Check AI module channel reading in TIA Portal force table ‚Äî determine if noise is in wiring or module</li>
              <li>Inspect sensor cable shield bonding ‚Äî check at transmitter head and at panel entry</li>
              <li>Measure signal voltage/resistance at panel terminal with multimeter while monitoring oscillation</li>
              <li>Check AI module filter/averaging configuration in hardware parameters ‚Äî verify filter time constant</li>
              <li>Inspect transmitter connection head in the field for condensation or corroded terminals</li>
            </ol>
          </div>
        </div>
        <div class="two-col">
          <div style="background:#dcfce7; border-radius:8px; padding:16px; border-left:4px solid #16a34a;">
            <div style="font-weight:700; color:#14532d; margin-bottom:6px; font-size:14px;">‚úÖ Root Cause &amp; Corrective Action</div>
            <p style="color:#14532d; font-size:13px;"><strong>Root Cause:</strong> Condensation had formed inside the PT100 connection head (the transmitter terminal block area) due to temperature cycling ‚Äî cold product zone sensor meeting warm electrical room in winter. Moisture on the terminal block introduced a variable resistance in series with the PT100 signal loop, causing erratic resistance readings interpreted as temperature swings.</p>
            <p style="color:#14532d; font-size:13px; margin-top:8px;"><strong>Corrective Action:</strong> Clean and dry the connection head. Apply silicone sealant around cable entry. Replace corroded terminals. Ensure connection head IP rating is appropriate for the installation environment (minimum IP65). Re-verify calibration after repair.</p>
          </div>
          <div style="background:#dbeafe; border-radius:8px; padding:16px; border-left:4px solid #1a4b8c;">
            <div style="font-weight:700; color:#1e3a5f; margin-bottom:6px; font-size:14px;">üõ°Ô∏è Preventive Action</div>
            <p style="color:#1e3a5f; font-size:13px;">Increase analogue input filter time constant in the AI module hardware configuration (e.g., 200ms integration time) for temperature loops ‚Äî temperature does not change faster than the filter can handle, so filtering eliminates electrical noise without affecting control quality. Add connection head inspection to annual calibration routine. Fit breather/drain plugs to connection heads in condensation-risk zones.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Case 5: Random E-Stop -->
    <div class="collapsible" id="ts5">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üö®</span> Case Study 5 ‚Äî Production Line E-Stop Triggering Randomly</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid" style="margin-bottom:16px;">
          <div style="background:#fee2e2; border-radius:8px; padding:16px; border-left:4px solid #dc2626;">
            <div style="font-weight:700; color:#7f1d1d; margin-bottom:6px; font-size:14px;">üî¥ Symptoms</div>
            <ul style="color:#7f1d1d; font-size:13px;">
              <li>Packaging Line 3 E-stop circuit trips 2‚Äì4 times per shift ‚Äî no operator activation</li>
              <li>Safety relay (Pilz PNOZ) drops out without any E-stop button being pressed</li>
              <li>The line has 8 E-stop buttons in series across two zones</li>
              <li>After reset, line runs for 30‚Äì90 minutes before the next unexplained trip</li>
              <li>No pattern to time of day ‚Äî occurs on all shifts</li>
              <li>Line is 7 years old; original E-stop cabling</li>
            </ul>
          </div>
          <div style="background:#fef9c3; border-radius:8px; padding:16px; border-left:4px solid #ca8a04;">
            <div style="font-weight:700; color:#713f12; margin-bottom:6px; font-size:14px;">üîç Diagnosis Steps</div>
            <ol style="color:#713f12; font-size:13px;">
              <li>Read Pilz PNOZ diagnostic output ‚Äî identify which input channel (A1/A2 or Y1/Y2) dropped</li>
              <li>Measure resistance of each E-stop button NC contact with multimeter ‚Äî look for intermittent high resistance</li>
              <li>Check cable insulation resistance on E-stop loop wiring (megger test at 500VDC with safety relay disconnected)</li>
              <li>Inspect all E-stop button enclosures for cable entry damage, corrosion, or mechanical wear on contacts</li>
              <li>Check safety relay supply voltage ‚Äî verify it is stable 24VDC ¬± 10% and not dipping during line start sequences</li>
              <li>Temporarily monitor E-stop loop voltage with data logger ‚Äî capture the event waveform</li>
            </ol>
          </div>
        </div>
        <div class="two-col">
          <div style="background:#dcfce7; border-radius:8px; padding:16px; border-left:4px solid #16a34a;">
            <div style="font-weight:700; color:#14532d; margin-bottom:6px; font-size:14px;">‚úÖ Root Cause &amp; Corrective Action</div>
            <p style="color:#14532d; font-size:13px;"><strong>Root Cause:</strong> After 7 years, the NC contacts on two E-stop buttons (positions ES-3 and ES-6) had developed intermittent high resistance due to contact oxidation and mechanical wear on the spring-loaded contact stack. At high machine vibration moments, the contact resistance momentarily exceeded the safety relay's input threshold, causing a spurious trip.</p>
            <p style="color:#14532d; font-size:13px; margin-top:8px;"><strong>Corrective Action:</strong> Replace all 8 E-stop pushbutton devices as a batch (age-based replacement). Use IEC 60947-5-5 rated E-stop devices. Verify full safety circuit re-commissioning after replacement including function test and safety relay response time measurement.</p>
          </div>
          <div style="background:#dbeafe; border-radius:8px; padding:16px; border-left:4px solid #1a4b8c;">
            <div style="font-weight:700; color:#1e3a5f; margin-bottom:6px; font-size:14px;">üõ°Ô∏è Preventive Action</div>
            <p style="color:#1e3a5f; font-size:13px;">Add E-stop device replacement to the 5‚Äì7 year lifecycle PM schedule for all production lines. Implement monthly safety circuit function test with documented results. Consider replacing series-wired E-stop circuits with PROFISAFE (FSoE) networks to enable per-device diagnostics and fault localisation without manual testing.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ 10.5 Behavioural + Leadership Interview ‚îÄ‚îÄ -->
  <section class="section" id="interview">
    <div class="section-header">
      <div class="section-num" style="background:#7c3aed;">10.5</div>
      <h2 class="section-title">Behavioural &amp; Leadership Interview Preparation</h2>
    </div>

    <p>European manufacturing employers use structured competency-based interviews. Answers are expected to follow the <strong>STAR method</strong> (Situation, Task, Action, Result). The following covers the most commonly asked questions for Automation Engineers at food plants in the EU/Balkans region, with model answers you can adapt using your own experience.</p>

    <div class="highlight-box" style="margin-bottom:20px;">
      <div class="highlight-box-title">üåç European Work Culture Preparation Notes</div>
      <p><strong>Punctuality:</strong> Being on time is considered basic professionalism ‚Äî arrive 5‚Äì10 minutes early for your assessment. <strong>Directness:</strong> Serbian and broader European engineering management culture values direct, factual answers over vague or defensive responses. <strong>Documentation emphasis:</strong> Always mention that you document your work ‚Äî this signals maturity in a regulated food environment. <strong>Safety mindset:</strong> Volunteer safety considerations unprompted ‚Äî assessors are watching for this. <strong>Teamwork over heroics:</strong> Emphasise coordination with maintenance and production rather than single-handed solutions.</p>
    </div>

    <div class="collapsible open" id="bq1">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üó£Ô∏è</span> "How do you handle production downtime caused by an automation fault?"</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid">
          <div style="background:#f8fafc; border:1px solid #e2e8f0; border-radius:8px; padding:16px;">
            <div style="font-weight:700; color:#0a1628; margin-bottom:8px; font-size:14px;">üìê STAR Framework Breakdown</div>
            <p style="font-size:13px;"><strong style="color:#f97316;">S ‚Äî Situation:</strong> Describe a specific downtime event ‚Äî type of equipment, time of day, production impact.</p>
            <p style="font-size:13px; margin-top:6px;"><strong style="color:#f97316;">T ‚Äî Task:</strong> Your role ‚Äî were you the first responder, the lead engineer, or supporting maintenance?</p>
            <p style="font-size:13px; margin-top:6px;"><strong style="color:#f97316;">A ‚Äî Action:</strong> Structured steps you took: safety check, isolate fault, diagnose, repair, test, document.</p>
            <p style="font-size:13px; margin-top:6px;"><strong style="color:#f97316;">R ‚Äî Result:</strong> Quantify the outcome ‚Äî line restored in X minutes, RCA completed, repeat fault prevented.</p>
          </div>
          <div style="background:#fffbeb; border:1px solid #fde68a; border-left:4px solid #f97316; border-radius:8px; padding:16px;">
            <div style="font-weight:700; color:#92400e; margin-bottom:8px; font-size:14px;">üí¨ Model Answer (adapt with your own experience)</div>
            <p style="font-size:13px; color:#78350f; line-height:1.7;">"In my previous role, our pasteurizer temperature sensor failed mid-shift, triggering a CCP hold and stopping the line. <em>(S)</em> As the on-shift automation engineer, I was responsible for diagnosing and restoring the system. <em>(T)</em> I immediately notified the production supervisor and QA, confirmed the product on-hold status, then diagnosed the fault using the SCADA trend and PLC diagnostics ‚Äî isolating a failed 4‚Äì20mA transmitter within 8 minutes. I replaced the transmitter from our on-site spare stock, recalibrated against a reference, and returned the line to CCP-validated operation. <em>(A)</em> The total downtime was 34 minutes ‚Äî within our target. I completed a full RCA and added the transmitter to the quarterly calibration schedule to prevent recurrence. <em>(R)</em>"</p>
          </div>
        </div>
      </div>
    </div>

    <div class="collapsible" id="bq2">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üë•</span> "How do you lead and support maintenance technicians?"</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div class="card-grid">
          <div style="background:#f8fafc; border:1px solid #e2e8f0; border-radius:8px; padding:16px;">
            <div style="font-weight:700; color:#0a1628; margin-bottom:8px; font-size:14px;">üìê Key Points to Cover</div>
            <ul style="font-size:13px; color:#475569;">
              <li>Clear communication of priorities at start of shift</li>
              <li>Delegating tasks by skill level ‚Äî complex electrical work to qualified persons</li>
              <li>Maintaining a safe working environment ‚Äî issuing LOTOTO permits</li>
              <li>Providing technical guidance without micromanaging</li>
              <li>Debriefing after faults ‚Äî learning culture, not blame culture</li>
              <li>Recognising good work and escalating persistent issues to management</li>
            </ul>
          </div>
          <div style="background:#fffbeb; border:1px solid #fde68a; border-left:4px solid #f97316; border-radius:8px; padding:16px;">
            <div style="font-weight:700; color:#92400e; margin-bottom:8px; font-size:14px;">üí¨ Model Answer</div>
            <p style="font-size:13px; color:#78350f; line-height:1.7;">"I believe a good automation engineer leads by sharing knowledge, not just issuing instructions. I begin each shift by briefing the maintenance technicians on outstanding automation issues, prioritising by production impact and safety. When a fault occurs, I involve the technician in the diagnostic process so they develop their skills. I always issue formal LOTOTO permits for electrical work and never allow anyone to work live unnecessarily. After a fault is resolved, I take 5 minutes to explain the root cause to the team ‚Äî this turns every fault into a training moment. I have found this approach builds trust and significantly reduces repeat faults."</p>
          </div>
        </div>
      </div>
    </div>

    <div class="collapsible" id="bq3">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <div class="collapsible-header-left"><span class="collapsible-icon">üõ°Ô∏è</span> "How do you ensure safety compliance in your daily work?"</div>
        <span class="collapsible-arrow">‚ñº</span>
      </div>
      <div class="collapsible-body">
        <div style="background:#fffbeb; border:1px solid #fde68a; border-left:4px solid #f97316; border-radius:8px; padding:18px;">
          <div style="font-weight:700; color:#92400e; margin-bottom:10px; font-size:14px;">üí¨ Model Answer</div>
          <p style="font-size:13.5px; color:#78350f; line-height:1.8;">"Safety compliance is not something I treat as a checklist ‚Äî it is a mindset I apply continuously. Every morning, I verify that all safety devices ‚Äî E-stops, light curtains, safety relays ‚Äî are functional before signing off line readiness. I never bypass or mute a safety interlock without completing a formal risk assessment and obtaining written authorisation from the engineering manager, even under production pressure. For electrical work, I always issue and physically apply LOTOTO before any panel is opened. I maintain up-to-date knowledge of EN 60204, HACCP requirements, and IEC 62061 for functional safety. I also conduct a monthly safety audit of automation systems on my assigned lines and report any concerns immediately ‚Äî I see safety as a shared responsibility that starts with me setting the example."</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ 10.6 Rapid-Fire Q&A ‚îÄ‚îÄ -->
  <section class="section" id="rapid-fire">
    <div class="section-header">
      <div class="section-num" style="background:#f97316;">10.6</div>
      <h2 class="section-title">Technical Interview ‚Äî Rapid-Fire Q&amp;A</h2>
    </div>
    <p>These questions are commonly asked in the first 20 minutes of a technical panel interview. Expand each to reveal the model answer. Practise until you can answer each in under 60 seconds verbally.</p>

    <div id="qa-container">

      <div class="collapsible" id="qa1">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q1</span> What is a PLC scan cycle and why does its duration matter?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> The PLC scan cycle is the repetitive sequence the CPU executes continuously: (1) Read all physical inputs into the input image table, (2) Execute the user program logic using that image, (3) Write the output image table results to the physical outputs, (4) Execute housekeeping (communication, diagnostics). Scan time is the duration of one complete cycle ‚Äî typically 1‚Äì50ms for industrial PLCs. Scan time matters because any event shorter than one scan cycle may be missed (a very fast pulse on an input could come and go between two reads). For very fast events, hardware interrupts or high-speed counters are used. In food plants, scan times above 100ms on critical control loops can cause temperature or flow control instability.</p>
        </div>
      </div>

      <div class="collapsible" id="qa2">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q2</span> What is the difference between a latch (SET/RESET) and a seal-in contact?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> A <strong>seal-in contact</strong> (or hold-in) is a normally open contact of the output coil wired in parallel with the momentary input ‚Äî when the coil energises, its own contact latches the coil ON so the input can be released. It is NOT retentive ‚Äî if power is lost, the coil de-energises and must be restarted manually. A <strong>SET/RESET latch</strong> (or flip-flop) uses dedicated SET and RESET coil instructions. Once SET, the bit remains ON even if the SET condition disappears, until an explicit RESET instruction is executed. Some PLCs allow retentive (power-loss-proof) SET/RESET bits stored in non-volatile memory. In food plant safety: motor start/stop uses seal-in (operator must actively press Start); CCP pass/fail records use SET/RESET to retain the state for the batch log.</p>
        </div>
      </div>

      <div class="collapsible" id="qa3">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q3</span> What happens when an analogue input fails in a PLC system?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> The behaviour depends on the failure mode and the PLC/transmitter configuration. For a 4‚Äì20mA loop: a <strong>wire break</strong> drives the signal to 0mA ‚Äî most transmitters and AI modules detect this as an "under-range" fault and set a hardware fault bit on the channel. The PLC program should detect this fault bit and respond: (1) Switch the affected PID loop to manual mode with a safe fallback output, (2) Raise a P2 alarm to SCADA and HMI, (3) Prevent the use of the faulty value in any calculation or safety logic. Without proper fault handling, a 0mA reading can be misinterpreted as a valid low-range value (e.g., -200¬∞C for a temperature input), which could drive a heater to full power ‚Äî a dangerous situation in food production. Always code sensor fault detection logic using the module's diagnostic bit or range limit checks.</p>
        </div>
      </div>

      <div class="collapsible" id="qa4">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q4</span> What is the difference between PNP and NPN sensors, and how does it affect wiring to a PLC?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> <strong>PNP (sourcing) sensors</strong> switch the positive supply (+24VDC) to their output when active ‚Äî they source current to the PLC input. The PLC input receives +24V when the sensor is active (logic 1). <strong>NPN (sinking) sensors</strong> switch their output to 0V (GND) when active ‚Äî they sink current from the PLC input. The PLC input is pulled to 0V through the sensor when active. The critical difference for wiring: PNP outputs connect the signal wire to the PLC digital input terminal, with a common 0V reference. NPN outputs also connect to the PLC input terminal, but the PLC input card must be configured as a sinking-type input (positive common). <strong>Most European industrial PLCs use PNP (sourcing) inputs by default</strong> ‚Äî always verify sensor output type before wiring to avoid incorrect signal states or potential damage to the input card.</p>
        </div>
      </div>

      <div class="collapsible" id="qa5">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q5</span> What is CIP automation logic and what does the PLC need to control during a CIP cycle?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> CIP (Clean-In-Place) is an automated cleaning process for food contact surfaces (pipes, tanks, heat exchangers) without disassembly. The PLC must control a defined sequence: (1) <strong>Pre-rinse</strong> ‚Äî water flush to remove product residue; (2) <strong>Caustic wash</strong> ‚Äî hot caustic solution (1‚Äì2% NaOH at 75‚Äì80¬∞C) circulated for a set time; (3) <strong>Intermediate rinse</strong> ‚Äî water rinse to remove caustic; (4) <strong>Acid rinse</strong> ‚Äî dilute acid to neutralise and descale (optional depending on product); (5) <strong>Final rinse</strong> ‚Äî potable water, with conductivity verified to confirm no chemical residue. The PLC controls: valve sequencing (divert valves, return valves, supply valves), pump speeds (VFD), temperature monitoring (must achieve target temperature for set duration), conductivity monitoring (confirm correct chemical concentration and final rinse purity), and CIP completion signal to SCADA for traceability logging. CIP validation records are a food safety audit requirement.</p>
        </div>
      </div>

      <div class="collapsible" id="qa6">
        <div class="collapsible-header" onclick="toggleCollapse(this)" style="background:linear-gradient(90deg,#f8fafc,#fff);">
          <div class="collapsible-header-left" style="color:#0a1628; font-weight:700;"><span style="background:#f97316; color:#fff; border-radius:4px; padding:2px 8px; font-size:12px; font-family:var(--font-mono); margin-right:6px;">Q6</span> What is OEE and how is it calculated?</div>
          <span class="collapsible-arrow" style="color:#f97316;">‚ñº</span>
        </div>
        <div class="collapsible-body">
          <p><strong>Answer:</strong> OEE stands for <strong>Overall Equipment Effectiveness</strong> ‚Äî a KPI that measures the percentage of planned production time that is truly productive. It is calculated as: <strong>OEE = Availability √ó Performance √ó Quality</strong>.</p>
          <p style="margin-top:8px;"><strong>Availability</strong> = (Planned Run Time ‚àí Unplanned Downtime) √∑ Planned Run Time. Measures the proportion of scheduled time the machine is actually running.</p>
          <p style="margin-top:6px;"><strong>Performance</strong> = (Actual Output √∑ Theoretical Maximum Output). Measures how fast the machine runs compared to its nameplate speed.</p>
          <p style="margin-top:6px;"><strong>Quality</strong> = Good Units √∑ Total Units Produced. Measures the proportion of output that meets specification first time.</p>
          <p style="margin-top:8px;">Example: Availability 90% √ó Performance 95% √ó Quality 98% = OEE of 83.8%. World-class OEE in food manufacturing is considered ‚â• 85%. The Automation Engineer's primary contribution to OEE is maximising Availability by minimising unplanned automation downtime and reducing MTTR.</p>
        </div>
      </div>

    </div><!-- end qa-container -->
  </section>

  <!-- ‚îÄ‚îÄ 10.7 Self-Assessment Checklist ‚îÄ‚îÄ -->
  <section class="section" id="self-assess">
    <div class="section-header">
      <div class="section-num" style="background:#16a34a;">10.7</div>
      <h2 class="section-title">Practical Skill Self-Assessment Checklist</h2>
    </div>

    <p>Use this checklist honestly before your assessment. For any item you cannot tick with confidence, review the relevant section in this guide or practise using TIA Portal simulation before your scheduled assessment date.</p>

    <div class="two-col">
      <div class="card">
        <div class="card-title">üß© PLC Programming Skills</div>
        <ul class="checklist" id="self-plc">
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can write a motor start/stop with seal-in and overload without reference material</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can design a multi-step sequential start logic using timers</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can configure a TON, TOF, and TONR timer and explain each use case</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can write a CTU/CTD counter and link it to a batch complete trigger</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can explain PID control parameters and tune a simple temperature loop</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can add analogue input fault detection to a PLC program</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can write interlock logic with both NO and NC contacts and justify my choice</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can back up and restore a PLC program using TIA Portal</label></li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">üîå Electrical &amp; Field Systems</div>
        <ul class="checklist" id="self-elec">
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can read and interpret a motor control circuit drawing (DOL, star-delta)</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can identify the function of each component in an MCC panel from a schematic</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can troubleshoot VFD faults using parameter display and fault codes</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can correctly wire a PNP and NPN sensor to a PLC digital input</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand 4‚Äì20mA loop wiring and can diagnose a wire-break fault</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can interpret a PROFINET network topology diagram</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can diagnose an intermittent PROFINET device drop using managed switch diagnostics</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand EMC cable segregation requirements and screen bonding methods</label></li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">üñ•Ô∏è SCADA, HMI &amp; Systems</div>
        <ul class="checklist" id="self-scada">
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can configure a SCADA alarm with correct priority, message, and acknowledgement group</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can create and configure a trend view in WinCC or equivalent SCADA</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can diagnose a "Bad Quality" SCADA tag and trace it to the source</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can set up OPC UA communication between a PLC and SCADA system</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand historian data storage and can retrieve a process trend from the past</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can add a new tag to an HMI screen and link it to a PLC data block address</label></li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">üçΩÔ∏è Food Safety &amp; Compliance</div>
        <ul class="checklist" id="self-food">
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand what a HACCP Critical Control Point is and can name the CCPs in a typical ice cream process</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can explain the automation role in CIP cycle control and validation</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand allergen changeover procedures and how PLC interlocks support them</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can explain why the pasteurizer divert valve must never be bypassed in production</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I know the difference between IP20, IP65, and IP69K and when each is required in a food plant</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I can correctly describe and execute a full LOTOTO procedure</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I understand the purpose of SIL (Safety Integrity Level) in automated safety functions</label></li>
          <li><input type="checkbox" class="check-input" onchange="toggleCheck(this)"><label class="check-label">I know the required calibration intervals for critical food process instruments</label></li>
        </ul>
      </div>
    </div>

    <!-- Score counter -->
    <div id="self-score-box" style="background:linear-gradient(135deg,#0a1628,#122040); border-radius:12px; padding:24px 30px; margin-top:24px; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:16px; border:1px solid rgba(249,115,22,0.3);">
      <div>
        <div style="font-size:10px; color:#f97316; text-transform:uppercase; letter-spacing:2px; font-family:var(--font-mono); margin-bottom:4px;">Assessment Readiness</div>
        <div style="font-family:var(--font-display); font-size:22px; font-weight:800; color:#f8fafc;">Self-Assessment Score</div>
        <div style="font-size:13px; color:#94a3b8; margin-top:4px;">Tick all items you can perform with confidence. Score updates automatically.</div>
      </div>
      <div style="text-align:center;">
        <div id="self-score-value" style="font-family:var(--font-display); font-size:52px; font-weight:800; color:#f97316; line-height:1;">0</div>
        <div style="font-size:13px; color:#94a3b8;">of <span id="self-score-total">30</span> skills</div>
        <div id="self-score-label" style="margin-top:8px; font-size:12px; font-family:var(--font-mono); color:#64748b; background:rgba(255,255,255,0.06); border-radius:6px; padding:4px 12px;">Keep practising</div>
      </div>
    </div>
  </section>

  </div><!-- end content-wrap -->

</div><!-- end main -->

<!-- SCROLL TO TOP -->
<button id="scrollTop" onclick="scrollToTop()">‚Üë</button>

<script>
  // Time display
  function updateTime() {
    try {
      var now = new Date();
      var el = document.getElementById('current-time');
      if (el) el.textContent = now.toLocaleTimeString('en-GB', {hour:'2-digit', minute:'2-digit', second:'2-digit'});
    } catch(e) {}
  }
  updateTime();
  setInterval(updateTime, 1000);

  // Scroll to section
  function scrollToSection(selector) {
    try {
      var el = document.querySelector(selector);
      if (el) {
        var topbar = document.getElementById('topbar');
        var offset = topbar ? topbar.offsetHeight + 16 : 0;
        var top = el.getBoundingClientRect().top + window.pageYOffset - offset;
        window.scrollTo({ top: top, behavior: 'smooth' });
      }
    } catch(e) { console.log(e); }
  }

  // Collapsible toggle
  function toggleCollapse(header) {
    try {
      var parent = header.parentElement;
      if (parent.classList.contains('open')) {
        parent.classList.remove('open');
      } else {
        parent.classList.add('open');
      }
    } catch(e) {}
  }

  function expandAll() {
    try {
      var items = document.querySelectorAll('.collapsible');
      for (var i = 0; i < items.length; i++) items[i].classList.add('open');
    } catch(e) {}
  }

  function collapseAll() {
    try {
      var items = document.querySelectorAll('.collapsible');
      for (var i = 0; i < items.length; i++) items[i].classList.remove('open');
    } catch(e) {}
  }

  // Checklist toggle + self-assessment score
  function toggleCheck(input) {
    try {
      var label = input.nextElementSibling;
      if (label) {
        if (input.checked) {
          label.classList.add('checked');
        } else {
          label.classList.remove('checked');
        }
      }
      updateSelfScore();
    } catch(e) {}
  }

  function updateSelfScore() {
    try {
      var selfIds = ['self-plc','self-elec','self-scada','self-food'];
      var total = 0;
      var checked = 0;
      for (var i = 0; i < selfIds.length; i++) {
        var list = document.getElementById(selfIds[i]);
        if (!list) continue;
        var boxes = list.querySelectorAll('.check-input');
        for (var j = 0; j < boxes.length; j++) {
          total++;
          if (boxes[j].checked) checked++;
        }
      }
      var scoreVal = document.getElementById('self-score-value');
      var scoreTotal = document.getElementById('self-score-total');
      var scoreLabel = document.getElementById('self-score-label');
      if (scoreVal) scoreVal.textContent = checked;
      if (scoreTotal) scoreTotal.textContent = total;
      if (scoreLabel) {
        var pct = total > 0 ? (checked / total) * 100 : 0;
        if (pct >= 90) {
          scoreLabel.textContent = 'Assessment Ready!';
          scoreLabel.style.color = '#4ade80';
          scoreLabel.style.background = 'rgba(22,163,74,0.15)';
        } else if (pct >= 70) {
          scoreLabel.textContent = 'Almost Ready ‚Äî Review gaps';
          scoreLabel.style.color = '#fb923c';
          scoreLabel.style.background = 'rgba(249,115,22,0.12)';
        } else if (pct >= 50) {
          scoreLabel.textContent = 'Progress Made ‚Äî Keep studying';
          scoreLabel.style.color = '#fbbf24';
          scoreLabel.style.background = 'rgba(202,138,4,0.12)';
        } else {
          scoreLabel.textContent = 'Keep practising';
          scoreLabel.style.color = '#94a3b8';
          scoreLabel.style.background = 'rgba(255,255,255,0.06)';
        }
      }
    } catch(e) {}
  }

  // Print assessment section only
  function printAssessment() {
    try {
      var sections = ['assessment','plc-test','diagram-test','ts-sim','interview','rapid-fire','self-assess'];
      var content = '<html><head><title>PLC Technical Assessment Guide</title>';
      content += '<style>body{font-family:Arial,sans-serif;font-size:13px;color:#1e293b;padding:20px;max-width:900px;margin:0 auto;}';
      content += 'h1{color:#0a1628;font-size:24px;border-bottom:3px solid #f97316;padding-bottom:8px;}';
      content += 'h2{color:#1a4b8c;font-size:18px;margin-top:28px;}';
      content += 'h3{color:#0a1628;font-size:15px;margin-top:18px;}';
      content += 'table{width:100%;border-collapse:collapse;margin:12px 0;font-size:12px;}';
      content += 'th{background:#0a1628;color:#fff;padding:8px;text-align:left;}';
      content += 'td{padding:8px;border-bottom:1px solid #e2e8f0;vertical-align:top;}';
      content += '.code{background:#f1f5f9;font-family:Courier New,monospace;font-size:11px;padding:12px;border-left:3px solid #f97316;margin:10px 0;white-space:pre-wrap;border-radius:4px;}';
      content += '.alert{background:#dbeafe;border-left:4px solid #1a4b8c;padding:10px;margin:10px 0;border-radius:4px;font-size:12px;}';
      content += 'ul{padding-left:18px;}li{margin-bottom:4px;}';
      content += '@page{margin:20mm;}';
      content += '</style></head><body>';
      content += '<h1>PLC Technical Assessment Preparation Guide</h1>';
      content += '<p style="color:#475569;font-size:11px;font-family:Courier New,monospace;">Document: AE-OPS-SRB-2025 | Rev 2.5 | Serbia Deployment | Internal Training</p>';

      for (var i = 0; i < sections.length; i++) {
        var el = document.getElementById(sections[i]);
        if (el) {
          // Open all collapsibles in the clone
          var clone = el.cloneNode(true);
          var bodies = clone.querySelectorAll('.collapsible-body');
          for (var b = 0; b < bodies.length; b++) {
            bodies[b].style.display = 'block';
          }
          // Remove section-num circles, simplify headers
          content += '<div style="margin-top:32px;">' + clone.innerHTML + '</div>';
        }
      }
      content += '</body></html>';

      var win = window.open('', '_blank', 'width=900,height=700');
      if (win) {
        win.document.write(content);
        win.document.close();
        win.focus();
        setTimeout(function() { win.print(); }, 600);
      } else {
        window.print();
      }
    } catch(e) {
      window.print();
    }
  }

  // Scroll to top button
  window.onscroll = function() {
    try {
      var btn = document.getElementById('scrollTop');
      if (!btn) return;
      if (window.pageYOffset > 400) {
        btn.classList.add('visible');
      } else {
        btn.classList.remove('visible');
      }
    } catch(e) {}
  };

  // Scroll top button click
  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // Init self score on load
  updateSelfScore();
</script>

</body>
</html>
